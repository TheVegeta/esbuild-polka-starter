var Os=Object.create;var ur=Object.defineProperty;var Ss=Object.getOwnPropertyDescriptor;var Ns=Object.getOwnPropertyNames;var ws=Object.getPrototypeOf,Is=Object.prototype.hasOwnProperty;var y=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Rs=(e,t,i,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Ns(t))!Is.call(e,n)&&n!==i&&ur(e,n,{get:()=>t[n],enumerable:!(r=Ss(t,n))||r.enumerable});return e};var Y=(e,t,i)=>(i=e!=null?Os(ws(e)):{},Rs(t||!e||!e.__esModule?ur(i,"default",{value:e,enumerable:!0}):i,e));var lr=y(fr=>{fr.json=function(e={}){let t=e.limit||102400,i=e.type||"application/json";return function(r,n,o){if(r._body)return o();r.body=r.body||{};let s=r.headers,a=s["content-type"],c=parseInt(s["content-length"],10);if(isNaN(c)&&s["transfer-encoding"]==null||a&&!a.includes(i)||c===0)return o();let h=[],f=0;r.on("data",l=>{f+=Buffer.byteLength(l),f<=t?h.push(l):(o({code:413,details:"Exceeded JSON limit"}),r.destroy())}).on("end",()=>{try{r.body=JSON.parse(h),r._body=!0,o()}catch(l){l.code=422,l.details=l.message,l.message="Invalid JSON",o(l)}}).on("error",o)}}});var mr=y((Lf,hr)=>{"use strict";hr.exports=function(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});var i=typeof t.cycles=="boolean"?t.cycles:!1,r=t.cmp&&function(o){return function(s){return function(a,c){var h={key:a,value:s[a]},f={key:c,value:s[c]};return o(h,f)}}}(t.cmp),n=[];return function o(s){if(s&&s.toJSON&&typeof s.toJSON=="function"&&(s=s.toJSON()),s!==void 0){if(typeof s=="number")return isFinite(s)?""+s:"null";if(typeof s!="object")return JSON.stringify(s);var a,c;if(Array.isArray(s)){for(c="[",a=0;a<s.length;a++)a&&(c+=","),c+=o(s[a])||"null";return c+"]"}if(s===null)return"null";if(n.indexOf(s)!==-1){if(i)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var h=n.push(s)-1,f=Object.keys(s).sort(r&&r(s));for(c="",a=0;a<f.length;a++){var l=f[a],E=o(s[l]);!E||(c&&(c+=","),c+=JSON.stringify(l)+":"+E)}return n.splice(h,1),"{"+c+"}"}}(e)}});var Er=y(gt=>{gt.read=function(e,t,i,r,n){var o,s,a=n*8-r-1,c=(1<<a)-1,h=c>>1,f=-7,l=i?n-1:0,E=i?-1:1,p=e[t+l];for(l+=E,o=p&(1<<-f)-1,p>>=-f,f+=a;f>0;o=o*256+e[t+l],l+=E,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=r;f>0;s=s*256+e[t+l],l+=E,f-=8);if(o===0)o=1-h;else{if(o===c)return s?NaN:(p?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-h}return(p?-1:1)*s*Math.pow(2,o-r)};gt.write=function(e,t,i,r,n,o){var s,a,c,h=o*8-n-1,f=(1<<h)-1,l=f>>1,E=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,m=r?1:-1,d=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+l>=1?t+=E/c:t+=E*Math.pow(2,1-l),t*c>=2&&(s++,c/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(t*c-1)*Math.pow(2,n),s=s+l):(a=t*Math.pow(2,l-1)*Math.pow(2,n),s=0));n>=8;e[i+p]=a&255,p+=m,a/=256,n-=8);for(s=s<<n|a,h+=n;h>0;e[i+p]=s&255,p+=m,s/=256,h-=8);e[i+p-m]|=d*128}});var z=y(Nt=>{"use strict";Nt.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((i,r)=>{e.call(this,...t,(n,o)=>n!=null?r(n):i(o))})},"name",{value:e.name})};Nt.fromPromise=function(e){return Object.defineProperty(function(...t){let i=t[t.length-1];if(typeof i!="function")return e.apply(this,t);e.apply(this,t.slice(0,-1)).then(r=>i(null,r),i)},"name",{value:e.name})}});var br=y((A0,kr)=>{var ce=require("constants"),Ls=process.cwd,Qe=null,Us=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Qe||(Qe=Ls.call(process)),Qe};try{process.cwd()}catch{}typeof process.chdir=="function"&&(wt=process.chdir,process.chdir=function(e){Qe=null,wt.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,wt));var wt;kr.exports=Ms;function Ms(e){ce.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||i(e),e.chown=o(e.chown),e.fchown=o(e.fchown),e.lchown=o(e.lchown),e.chmod=r(e.chmod),e.fchmod=r(e.fchmod),e.lchmod=r(e.lchmod),e.chownSync=s(e.chownSync),e.fchownSync=s(e.fchownSync),e.lchownSync=s(e.lchownSync),e.chmodSync=n(e.chmodSync),e.fchmodSync=n(e.fchmodSync),e.lchmodSync=n(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=c(e.statSync),e.fstatSync=c(e.fstatSync),e.lstatSync=c(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(f,l,E){E&&process.nextTick(E)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(f,l,E,p){p&&process.nextTick(p)},e.lchownSync=function(){}),Us==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(f){function l(E,p,m){var d=Date.now(),x=0;f(E,p,function T(O){if(O&&(O.code==="EACCES"||O.code==="EPERM")&&Date.now()-d<6e4){setTimeout(function(){e.stat(p,function(N,B){N&&N.code==="ENOENT"?f(E,p,T):m(O)})},x),x<100&&(x+=10);return}m&&m(O)})}return Object.setPrototypeOf&&Object.setPrototypeOf(l,f),l}(e.rename)),e.read=typeof e.read!="function"?e.read:function(f){function l(E,p,m,d,x,T){var O;if(T&&typeof T=="function"){var N=0;O=function(B,X,L){if(B&&B.code==="EAGAIN"&&N<10)return N++,f.call(e,E,p,m,d,x,O);T.apply(this,arguments)}}return f.call(e,E,p,m,d,x,O)}return Object.setPrototypeOf&&Object.setPrototypeOf(l,f),l}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(f){return function(l,E,p,m,d){for(var x=0;;)try{return f.call(e,l,E,p,m,d)}catch(T){if(T.code==="EAGAIN"&&x<10){x++;continue}throw T}}}(e.readSync);function t(f){f.lchmod=function(l,E,p){f.open(l,ce.O_WRONLY|ce.O_SYMLINK,E,function(m,d){if(m){p&&p(m);return}f.fchmod(d,E,function(x){f.close(d,function(T){p&&p(x||T)})})})},f.lchmodSync=function(l,E){var p=f.openSync(l,ce.O_WRONLY|ce.O_SYMLINK,E),m=!0,d;try{d=f.fchmodSync(p,E),m=!1}finally{if(m)try{f.closeSync(p)}catch{}else f.closeSync(p)}return d}}function i(f){ce.hasOwnProperty("O_SYMLINK")&&f.futimes?(f.lutimes=function(l,E,p,m){f.open(l,ce.O_SYMLINK,function(d,x){if(d){m&&m(d);return}f.futimes(x,E,p,function(T){f.close(x,function(O){m&&m(T||O)})})})},f.lutimesSync=function(l,E,p){var m=f.openSync(l,ce.O_SYMLINK),d,x=!0;try{d=f.futimesSync(m,E,p),x=!1}finally{if(x)try{f.closeSync(m)}catch{}else f.closeSync(m)}return d}):f.futimes&&(f.lutimes=function(l,E,p,m){m&&process.nextTick(m)},f.lutimesSync=function(){})}function r(f){return f&&function(l,E,p){return f.call(e,l,E,function(m){h(m)&&(m=null),p&&p.apply(this,arguments)})}}function n(f){return f&&function(l,E){try{return f.call(e,l,E)}catch(p){if(!h(p))throw p}}}function o(f){return f&&function(l,E,p,m){return f.call(e,l,E,p,function(d){h(d)&&(d=null),m&&m.apply(this,arguments)})}}function s(f){return f&&function(l,E,p){try{return f.call(e,l,E,p)}catch(m){if(!h(m))throw m}}}function a(f){return f&&function(l,E,p){typeof E=="function"&&(p=E,E=null);function m(d,x){x&&(x.uid<0&&(x.uid+=4294967296),x.gid<0&&(x.gid+=4294967296)),p&&p.apply(this,arguments)}return E?f.call(e,l,E,m):f.call(e,l,m)}}function c(f){return f&&function(l,E){var p=E?f.call(e,l,E):f.call(e,l);return p&&(p.uid<0&&(p.uid+=4294967296),p.gid<0&&(p.gid+=4294967296)),p}}function h(f){if(!f||f.code==="ENOSYS")return!0;var l=!process.getuid||process.getuid()!==0;return!!(l&&(f.code==="EINVAL"||f.code==="EPERM"))}}});var Fr=y((v0,Pr)=>{var Dr=require("stream").Stream;Pr.exports=Bs;function Bs(e){return{ReadStream:t,WriteStream:i};function t(r,n){if(!(this instanceof t))return new t(r,n);Dr.call(this);var o=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,n=n||{};for(var s=Object.keys(n),a=0,c=s.length;a<c;a++){var h=s[a];this[h]=n[h]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){o._read()});return}e.open(this.path,this.flags,this.mode,function(f,l){if(f){o.emit("error",f),o.readable=!1;return}o.fd=l,o.emit("open",l),o._read()})}function i(r,n){if(!(this instanceof i))return new i(r,n);Dr.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,n=n||{};for(var o=Object.keys(n),s=0,a=o.length;s<a;s++){var c=o[s];this[c]=n[c]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var Lr=y((k0,Cr)=>{"use strict";Cr.exports=Hs;var qs=Object.getPrototypeOf||function(e){return e.__proto__};function Hs(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:qs(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}),t}});var $=y((b0,At)=>{var P=require("fs"),js=br(),Gs=Fr(),Ys=Lr(),Ke=require("util"),H,Xe;typeof Symbol=="function"&&typeof Symbol.for=="function"?(H=Symbol.for("graceful-fs.queue"),Xe=Symbol.for("graceful-fs.previous")):(H="___graceful-fs.queue",Xe="___graceful-fs.previous");function $s(){}function Br(e,t){Object.defineProperty(e,H,{get:function(){return t}})}var Ee=$s;Ke.debuglog?Ee=Ke.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Ee=function(){var e=Ke.format.apply(Ke,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});P[H]||(Ur=global[H]||[],Br(P,Ur),P.close=function(e){function t(i,r){return e.call(P,i,function(n){n||Mr(),typeof r=="function"&&r.apply(this,arguments)})}return Object.defineProperty(t,Xe,{value:e}),t}(P.close),P.closeSync=function(e){function t(i){e.apply(P,arguments),Mr()}return Object.defineProperty(t,Xe,{value:e}),t}(P.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){Ee(P[H]),require("assert").equal(P[H].length,0)}));var Ur;global[H]||Br(global,P[H]);At.exports=It(Ys(P));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!P.__patched&&(At.exports=It(P),P.__patched=!0);function It(e){js(e),e.gracefulify=It,e.createReadStream=X,e.createWriteStream=L;var t=e.readFile;e.readFile=i;function i(g,I,w){return typeof I=="function"&&(w=I,I=null),U(g,I,w);function U(v,C,R,S){return t(v,C,function(_){_&&(_.code==="EMFILE"||_.code==="ENFILE")?Se([U,[v,C,R],_,S||Date.now(),Date.now()]):typeof R=="function"&&R.apply(this,arguments)})}}var r=e.writeFile;e.writeFile=n;function n(g,I,w,U){return typeof w=="function"&&(U=w,w=null),v(g,I,w,U);function v(C,R,S,_,A){return r(C,R,S,function(k){k&&(k.code==="EMFILE"||k.code==="ENFILE")?Se([v,[C,R,S,_],k,A||Date.now(),Date.now()]):typeof _=="function"&&_.apply(this,arguments)})}}var o=e.appendFile;o&&(e.appendFile=s);function s(g,I,w,U){return typeof w=="function"&&(U=w,w=null),v(g,I,w,U);function v(C,R,S,_,A){return o(C,R,S,function(k){k&&(k.code==="EMFILE"||k.code==="ENFILE")?Se([v,[C,R,S,_],k,A||Date.now(),Date.now()]):typeof _=="function"&&_.apply(this,arguments)})}}var a=e.copyFile;a&&(e.copyFile=c);function c(g,I,w,U){return typeof w=="function"&&(U=w,w=0),v(g,I,w,U);function v(C,R,S,_,A){return a(C,R,S,function(k){k&&(k.code==="EMFILE"||k.code==="ENFILE")?Se([v,[C,R,S,_],k,A||Date.now(),Date.now()]):typeof _=="function"&&_.apply(this,arguments)})}}var h=e.readdir;e.readdir=l;var f=/^v[0-5]\./;function l(g,I,w){typeof I=="function"&&(w=I,I=null);var U=f.test(process.version)?function(R,S,_,A){return h(R,v(R,S,_,A))}:function(R,S,_,A){return h(R,S,v(R,S,_,A))};return U(g,I,w);function v(C,R,S,_){return function(A,k){A&&(A.code==="EMFILE"||A.code==="ENFILE")?Se([U,[C,R,S],A,_||Date.now(),Date.now()]):(k&&k.sort&&k.sort(),typeof S=="function"&&S.call(this,A,k))}}}if(process.version.substr(0,4)==="v0.8"){var E=Gs(e);T=E.ReadStream,N=E.WriteStream}var p=e.ReadStream;p&&(T.prototype=Object.create(p.prototype),T.prototype.open=O);var m=e.WriteStream;m&&(N.prototype=Object.create(m.prototype),N.prototype.open=B),Object.defineProperty(e,"ReadStream",{get:function(){return T},set:function(g){T=g},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return N},set:function(g){N=g},enumerable:!0,configurable:!0});var d=T;Object.defineProperty(e,"FileReadStream",{get:function(){return d},set:function(g){d=g},enumerable:!0,configurable:!0});var x=N;Object.defineProperty(e,"FileWriteStream",{get:function(){return x},set:function(g){x=g},enumerable:!0,configurable:!0});function T(g,I){return this instanceof T?(p.apply(this,arguments),this):T.apply(Object.create(T.prototype),arguments)}function O(){var g=this;J(g.path,g.flags,g.mode,function(I,w){I?(g.autoClose&&g.destroy(),g.emit("error",I)):(g.fd=w,g.emit("open",w),g.read())})}function N(g,I){return this instanceof N?(m.apply(this,arguments),this):N.apply(Object.create(N.prototype),arguments)}function B(){var g=this;J(g.path,g.flags,g.mode,function(I,w){I?(g.destroy(),g.emit("error",I)):(g.fd=w,g.emit("open",w))})}function X(g,I){return new e.ReadStream(g,I)}function L(g,I){return new e.WriteStream(g,I)}var F=e.open;e.open=J;function J(g,I,w,U){return typeof w=="function"&&(U=w,w=null),v(g,I,w,U);function v(C,R,S,_,A){return F(C,R,S,function(k,D){k&&(k.code==="EMFILE"||k.code==="ENFILE")?Se([v,[C,R,S,_],k,A||Date.now(),Date.now()]):typeof _=="function"&&_.apply(this,arguments)})}}return e}function Se(e){Ee("ENQUEUE",e[0].name,e[1]),P[H].push(e),Rt()}var Je;function Mr(){for(var e=Date.now(),t=0;t<P[H].length;++t)P[H][t].length>2&&(P[H][t][3]=e,P[H][t][4]=e);Rt()}function Rt(){if(clearTimeout(Je),Je=void 0,P[H].length!==0){var e=P[H].shift(),t=e[0],i=e[1],r=e[2],n=e[3],o=e[4];if(n===void 0)Ee("RETRY",t.name,i),t.apply(null,i);else if(Date.now()-n>=6e4){Ee("TIMEOUT",t.name,i);var s=i.pop();typeof s=="function"&&s.call(null,r)}else{var a=Date.now()-o,c=Math.max(o-n,1),h=Math.min(c*1.2,100);a>=h?(Ee("RETRY",t.name,i),t.apply(null,i.concat([n]))):P[H].push(e)}Je===void 0&&(Je=setTimeout(Rt,0))}}});var xe=y(ue=>{"use strict";var qr=z().fromCallback,Q=$(),Vs=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>typeof Q[e]=="function");Object.assign(ue,Q);Vs.forEach(e=>{ue[e]=qr(Q[e])});ue.exists=function(e,t){return typeof t=="function"?Q.exists(e,t):new Promise(i=>Q.exists(e,i))};ue.read=function(e,t,i,r,n,o){return typeof o=="function"?Q.read(e,t,i,r,n,o):new Promise((s,a)=>{Q.read(e,t,i,r,n,(c,h,f)=>{if(c)return a(c);s({bytesRead:h,buffer:f})})})};ue.write=function(e,t,...i){return typeof i[i.length-1]=="function"?Q.write(e,t,...i):new Promise((r,n)=>{Q.write(e,t,...i,(o,s,a)=>{if(o)return n(o);r({bytesWritten:s,buffer:a})})})};typeof Q.writev=="function"&&(ue.writev=function(e,t,...i){return typeof i[i.length-1]=="function"?Q.writev(e,t,...i):new Promise((r,n)=>{Q.writev(e,t,...i,(o,s,a)=>{if(o)return n(o);r({bytesWritten:s,buffers:a})})})});typeof Q.realpath.native=="function"?ue.realpath.native=qr(Q.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")});var jr=y((P0,Hr)=>{"use strict";var Ws=require("path");Hr.exports.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(Ws.parse(t).root,""))){let r=new Error(`Path contains invalid characters: ${t}`);throw r.code="EINVAL",r}}});var Vr=y((F0,vt)=>{"use strict";var Gr=xe(),{checkPath:Yr}=jr(),$r=e=>{let t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};vt.exports.makeDir=async(e,t)=>(Yr(e),Gr.mkdir(e,{mode:$r(t),recursive:!0}));vt.exports.makeDirSync=(e,t)=>(Yr(e),Gr.mkdirSync(e,{mode:$r(t),recursive:!0}))});var Z=y((C0,Wr)=>{"use strict";var zs=z().fromPromise,{makeDir:Qs,makeDirSync:kt}=Vr(),bt=zs(Qs);Wr.exports={mkdirs:bt,mkdirsSync:kt,mkdirp:bt,mkdirpSync:kt,ensureDir:bt,ensureDirSync:kt}});var fe=y((L0,Qr)=>{"use strict";var Ks=z().fromPromise,zr=xe();function Js(e){return zr.access(e).then(()=>!0).catch(()=>!1)}Qr.exports={pathExists:Ks(Js),pathExistsSync:zr.existsSync}});var Dt=y((U0,Kr)=>{"use strict";var Ne=$();function Xs(e,t,i,r){Ne.open(e,"r+",(n,o)=>{if(n)return r(n);Ne.futimes(o,t,i,s=>{Ne.close(o,a=>{r&&r(s||a)})})})}function Zs(e,t,i){let r=Ne.openSync(e,"r+");return Ne.futimesSync(r,t,i),Ne.closeSync(r)}Kr.exports={utimesMillis:Xs,utimesMillisSync:Zs}});var ye=y((M0,Zr)=>{"use strict";var we=xe(),q=require("path"),ea=require("util");function ta(e,t,i){let r=i.dereference?n=>we.stat(n,{bigint:!0}):n=>we.lstat(n,{bigint:!0});return Promise.all([r(e),r(t).catch(n=>{if(n.code==="ENOENT")return null;throw n})]).then(([n,o])=>({srcStat:n,destStat:o}))}function ra(e,t,i){let r,n=i.dereference?s=>we.statSync(s,{bigint:!0}):s=>we.lstatSync(s,{bigint:!0}),o=n(e);try{r=n(t)}catch(s){if(s.code==="ENOENT")return{srcStat:o,destStat:null};throw s}return{srcStat:o,destStat:r}}function ia(e,t,i,r,n){ea.callbackify(ta)(e,t,r,(o,s)=>{if(o)return n(o);let{srcStat:a,destStat:c}=s;if(c){if(De(a,c)){let h=q.basename(e),f=q.basename(t);return i==="move"&&h!==f&&h.toLowerCase()===f.toLowerCase()?n(null,{srcStat:a,destStat:c,isChangingCase:!0}):n(new Error("Source and destination must not be the same."))}if(a.isDirectory()&&!c.isDirectory())return n(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!a.isDirectory()&&c.isDirectory())return n(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return a.isDirectory()&&Pt(e,t)?n(new Error(Ze(e,t,i))):n(null,{srcStat:a,destStat:c})})}function na(e,t,i,r){let{srcStat:n,destStat:o}=ra(e,t,r);if(o){if(De(n,o)){let s=q.basename(e),a=q.basename(t);if(i==="move"&&s!==a&&s.toLowerCase()===a.toLowerCase())return{srcStat:n,destStat:o,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(n.isDirectory()&&!o.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!n.isDirectory()&&o.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(n.isDirectory()&&Pt(e,t))throw new Error(Ze(e,t,i));return{srcStat:n,destStat:o}}function Jr(e,t,i,r,n){let o=q.resolve(q.dirname(e)),s=q.resolve(q.dirname(i));if(s===o||s===q.parse(s).root)return n();we.stat(s,{bigint:!0},(a,c)=>a?a.code==="ENOENT"?n():n(a):De(t,c)?n(new Error(Ze(e,i,r))):Jr(e,t,s,r,n))}function Xr(e,t,i,r){let n=q.resolve(q.dirname(e)),o=q.resolve(q.dirname(i));if(o===n||o===q.parse(o).root)return;let s;try{s=we.statSync(o,{bigint:!0})}catch(a){if(a.code==="ENOENT")return;throw a}if(De(t,s))throw new Error(Ze(e,i,r));return Xr(e,t,o,r)}function De(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function Pt(e,t){let i=q.resolve(e).split(q.sep).filter(n=>n),r=q.resolve(t).split(q.sep).filter(n=>n);return i.reduce((n,o,s)=>n&&r[s]===o,!0)}function Ze(e,t,i){return`Cannot ${i} '${e}' to a subdirectory of itself, '${t}'.`}Zr.exports={checkPaths:ia,checkPathsSync:na,checkParentPaths:Jr,checkParentPathsSync:Xr,isSrcSubdir:Pt,areIdentical:De}});var ai=y((B0,si)=>{"use strict";var K=$(),Pe=require("path"),oa=Z().mkdirs,sa=fe().pathExists,aa=Dt().utimesMillis,Fe=ye();function ca(e,t,i,r){typeof i=="function"&&!r?(r=i,i={}):typeof i=="function"&&(i={filter:i}),r=r||function(){},i=i||{},i.clobber="clobber"in i?!!i.clobber:!0,i.overwrite="overwrite"in i?!!i.overwrite:i.clobber,i.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),Fe.checkPaths(e,t,"copy",i,(n,o)=>{if(n)return r(n);let{srcStat:s,destStat:a}=o;Fe.checkParentPaths(e,s,t,"copy",c=>c?r(c):i.filter?ri(ei,a,e,t,i,r):ei(a,e,t,i,r))})}function ei(e,t,i,r,n){let o=Pe.dirname(i);sa(o,(s,a)=>{if(s)return n(s);if(a)return et(e,t,i,r,n);oa(o,c=>c?n(c):et(e,t,i,r,n))})}function ri(e,t,i,r,n,o){Promise.resolve(n.filter(i,r)).then(s=>s?e(t,i,r,n,o):o(),s=>o(s))}function ua(e,t,i,r,n){return r.filter?ri(et,e,t,i,r,n):et(e,t,i,r,n)}function et(e,t,i,r,n){(r.dereference?K.stat:K.lstat)(t,(s,a)=>s?n(s):a.isDirectory()?Ea(a,e,t,i,r,n):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?fa(a,e,t,i,r,n):a.isSymbolicLink()?Ta(e,t,i,r,n):a.isSocket()?n(new Error(`Cannot copy a socket file: ${t}`)):a.isFIFO()?n(new Error(`Cannot copy a FIFO pipe: ${t}`)):n(new Error(`Unknown file: ${t}`)))}function fa(e,t,i,r,n,o){return t?la(e,i,r,n,o):ii(e,i,r,n,o)}function la(e,t,i,r,n){if(r.overwrite)K.unlink(i,o=>o?n(o):ii(e,t,i,r,n));else return r.errorOnExist?n(new Error(`'${i}' already exists`)):n()}function ii(e,t,i,r,n){K.copyFile(t,i,o=>o?n(o):r.preserveTimestamps?ha(e.mode,t,i,n):tt(i,e.mode,n))}function ha(e,t,i,r){return ma(e)?pa(i,e,n=>n?r(n):ti(e,t,i,r)):ti(e,t,i,r)}function ma(e){return(e&128)===0}function pa(e,t,i){return tt(e,t|128,i)}function ti(e,t,i,r){da(t,i,n=>n?r(n):tt(i,e,r))}function tt(e,t,i){return K.chmod(e,t,i)}function da(e,t,i){K.stat(e,(r,n)=>r?i(r):aa(t,n.atime,n.mtime,i))}function Ea(e,t,i,r,n,o){return t?ni(i,r,n,o):xa(e.mode,i,r,n,o)}function xa(e,t,i,r,n){K.mkdir(i,o=>{if(o)return n(o);ni(t,i,r,s=>s?n(s):tt(i,e,n))})}function ni(e,t,i,r){K.readdir(e,(n,o)=>n?r(n):oi(o,e,t,i,r))}function oi(e,t,i,r,n){let o=e.pop();return o?ya(e,o,t,i,r,n):n()}function ya(e,t,i,r,n,o){let s=Pe.join(i,t),a=Pe.join(r,t);Fe.checkPaths(s,a,"copy",n,(c,h)=>{if(c)return o(c);let{destStat:f}=h;ua(f,s,a,n,l=>l?o(l):oi(e,i,r,n,o))})}function Ta(e,t,i,r,n){K.readlink(t,(o,s)=>{if(o)return n(o);if(r.dereference&&(s=Pe.resolve(process.cwd(),s)),e)K.readlink(i,(a,c)=>a?a.code==="EINVAL"||a.code==="UNKNOWN"?K.symlink(s,i,n):n(a):(r.dereference&&(c=Pe.resolve(process.cwd(),c)),Fe.isSrcSubdir(s,c)?n(new Error(`Cannot copy '${s}' to a subdirectory of itself, '${c}'.`)):e.isDirectory()&&Fe.isSrcSubdir(c,s)?n(new Error(`Cannot overwrite '${c}' with '${s}'.`)):_a(s,i,n)));else return K.symlink(s,i,n)})}function _a(e,t,i){K.unlink(t,r=>r?i(r):K.symlink(e,t,i))}si.exports=ca});var hi=y((q0,li)=>{"use strict";var G=$(),Ce=require("path"),ga=Z().mkdirsSync,Oa=Dt().utimesMillisSync,Le=ye();function Sa(e,t,i){typeof i=="function"&&(i={filter:i}),i=i||{},i.clobber="clobber"in i?!!i.clobber:!0,i.overwrite="overwrite"in i?!!i.overwrite:i.clobber,i.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");let{srcStat:r,destStat:n}=Le.checkPathsSync(e,t,"copy",i);return Le.checkParentPathsSync(e,r,t,"copy"),Na(n,e,t,i)}function Na(e,t,i,r){if(r.filter&&!r.filter(t,i))return;let n=Ce.dirname(i);return G.existsSync(n)||ga(n),ci(e,t,i,r)}function wa(e,t,i,r){if(!(r.filter&&!r.filter(t,i)))return ci(e,t,i,r)}function ci(e,t,i,r){let o=(r.dereference?G.statSync:G.lstatSync)(t);if(o.isDirectory())return Da(o,e,t,i,r);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return Ia(o,e,t,i,r);if(o.isSymbolicLink())return Ca(e,t,i,r);throw o.isSocket()?new Error(`Cannot copy a socket file: ${t}`):o.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function Ia(e,t,i,r,n){return t?Ra(e,i,r,n):ui(e,i,r,n)}function Ra(e,t,i,r){if(r.overwrite)return G.unlinkSync(i),ui(e,t,i,r);if(r.errorOnExist)throw new Error(`'${i}' already exists`)}function ui(e,t,i,r){return G.copyFileSync(t,i),r.preserveTimestamps&&Aa(e.mode,t,i),Ft(i,e.mode)}function Aa(e,t,i){return va(e)&&ka(i,e),ba(t,i)}function va(e){return(e&128)===0}function ka(e,t){return Ft(e,t|128)}function Ft(e,t){return G.chmodSync(e,t)}function ba(e,t){let i=G.statSync(e);return Oa(t,i.atime,i.mtime)}function Da(e,t,i,r,n){return t?fi(i,r,n):Pa(e.mode,i,r,n)}function Pa(e,t,i,r){return G.mkdirSync(i),fi(t,i,r),Ft(i,e)}function fi(e,t,i){G.readdirSync(e).forEach(r=>Fa(r,e,t,i))}function Fa(e,t,i,r){let n=Ce.join(t,e),o=Ce.join(i,e),{destStat:s}=Le.checkPathsSync(n,o,"copy",r);return wa(s,n,o,r)}function Ca(e,t,i,r){let n=G.readlinkSync(t);if(r.dereference&&(n=Ce.resolve(process.cwd(),n)),e){let o;try{o=G.readlinkSync(i)}catch(s){if(s.code==="EINVAL"||s.code==="UNKNOWN")return G.symlinkSync(n,i);throw s}if(r.dereference&&(o=Ce.resolve(process.cwd(),o)),Le.isSrcSubdir(n,o))throw new Error(`Cannot copy '${n}' to a subdirectory of itself, '${o}'.`);if(G.statSync(i).isDirectory()&&Le.isSrcSubdir(o,n))throw new Error(`Cannot overwrite '${o}' with '${n}'.`);return La(n,i)}else return G.symlinkSync(n,i)}function La(e,t){return G.unlinkSync(t),G.symlinkSync(e,t)}li.exports=Sa});var rt=y((H0,mi)=>{"use strict";var Ua=z().fromCallback;mi.exports={copy:Ua(ai()),copySync:hi()}});var Oi=y((j0,gi)=>{"use strict";var pi=$(),yi=require("path"),b=require("assert"),Ue=process.platform==="win32";function Ti(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(i=>{e[i]=e[i]||pi[i],i=i+"Sync",e[i]=e[i]||pi[i]}),e.maxBusyTries=e.maxBusyTries||3}function Ct(e,t,i){let r=0;typeof t=="function"&&(i=t,t={}),b(e,"rimraf: missing path"),b.strictEqual(typeof e,"string","rimraf: path should be a string"),b.strictEqual(typeof i,"function","rimraf: callback function required"),b(t,"rimraf: invalid options argument provided"),b.strictEqual(typeof t,"object","rimraf: options should be object"),Ti(t),di(e,t,function n(o){if(o){if((o.code==="EBUSY"||o.code==="ENOTEMPTY"||o.code==="EPERM")&&r<t.maxBusyTries){r++;let s=r*100;return setTimeout(()=>di(e,t,n),s)}o.code==="ENOENT"&&(o=null)}i(o)})}function di(e,t,i){b(e),b(t),b(typeof i=="function"),t.lstat(e,(r,n)=>{if(r&&r.code==="ENOENT")return i(null);if(r&&r.code==="EPERM"&&Ue)return Ei(e,t,r,i);if(n&&n.isDirectory())return it(e,t,r,i);t.unlink(e,o=>{if(o){if(o.code==="ENOENT")return i(null);if(o.code==="EPERM")return Ue?Ei(e,t,o,i):it(e,t,o,i);if(o.code==="EISDIR")return it(e,t,o,i)}return i(o)})})}function Ei(e,t,i,r){b(e),b(t),b(typeof r=="function"),t.chmod(e,438,n=>{n?r(n.code==="ENOENT"?null:i):t.stat(e,(o,s)=>{o?r(o.code==="ENOENT"?null:i):s.isDirectory()?it(e,t,i,r):t.unlink(e,r)})})}function xi(e,t,i){let r;b(e),b(t);try{t.chmodSync(e,438)}catch(n){if(n.code==="ENOENT")return;throw i}try{r=t.statSync(e)}catch(n){if(n.code==="ENOENT")return;throw i}r.isDirectory()?nt(e,t,i):t.unlinkSync(e)}function it(e,t,i,r){b(e),b(t),b(typeof r=="function"),t.rmdir(e,n=>{n&&(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")?Ma(e,t,r):n&&n.code==="ENOTDIR"?r(i):r(n)})}function Ma(e,t,i){b(e),b(t),b(typeof i=="function"),t.readdir(e,(r,n)=>{if(r)return i(r);let o=n.length,s;if(o===0)return t.rmdir(e,i);n.forEach(a=>{Ct(yi.join(e,a),t,c=>{if(!s){if(c)return i(s=c);--o===0&&t.rmdir(e,i)}})})})}function _i(e,t){let i;t=t||{},Ti(t),b(e,"rimraf: missing path"),b.strictEqual(typeof e,"string","rimraf: path should be a string"),b(t,"rimraf: missing options"),b.strictEqual(typeof t,"object","rimraf: options should be object");try{i=t.lstatSync(e)}catch(r){if(r.code==="ENOENT")return;r.code==="EPERM"&&Ue&&xi(e,t,r)}try{i&&i.isDirectory()?nt(e,t,null):t.unlinkSync(e)}catch(r){if(r.code==="ENOENT")return;if(r.code==="EPERM")return Ue?xi(e,t,r):nt(e,t,r);if(r.code!=="EISDIR")throw r;nt(e,t,r)}}function nt(e,t,i){b(e),b(t);try{t.rmdirSync(e)}catch(r){if(r.code==="ENOTDIR")throw i;if(r.code==="ENOTEMPTY"||r.code==="EEXIST"||r.code==="EPERM")Ba(e,t);else if(r.code!=="ENOENT")throw r}}function Ba(e,t){if(b(e),b(t),t.readdirSync(e).forEach(i=>_i(yi.join(e,i),t)),Ue){let i=Date.now();do try{return t.rmdirSync(e,t)}catch{}while(Date.now()-i<500)}else return t.rmdirSync(e,t)}gi.exports=Ct;Ct.sync=_i});var Me=y((G0,Ni)=>{"use strict";var ot=$(),qa=z().fromCallback,Si=Oi();function Ha(e,t){if(ot.rm)return ot.rm(e,{recursive:!0,force:!0},t);Si(e,t)}function ja(e){if(ot.rmSync)return ot.rmSync(e,{recursive:!0,force:!0});Si.sync(e)}Ni.exports={remove:qa(Ha),removeSync:ja}});var Di=y((Y0,bi)=>{"use strict";var Ga=z().fromPromise,Ri=xe(),Ai=require("path"),vi=Z(),ki=Me(),wi=Ga(async function(t){let i;try{i=await Ri.readdir(t)}catch{return vi.mkdirs(t)}return Promise.all(i.map(r=>ki.remove(Ai.join(t,r))))});function Ii(e){let t;try{t=Ri.readdirSync(e)}catch{return vi.mkdirsSync(e)}t.forEach(i=>{i=Ai.join(e,i),ki.removeSync(i)})}bi.exports={emptyDirSync:Ii,emptydirSync:Ii,emptyDir:wi,emptydir:wi}});var Li=y(($0,Ci)=>{"use strict";var Ya=z().fromCallback,Pi=require("path"),le=$(),Fi=Z();function $a(e,t){function i(){le.writeFile(e,"",r=>{if(r)return t(r);t()})}le.stat(e,(r,n)=>{if(!r&&n.isFile())return t();let o=Pi.dirname(e);le.stat(o,(s,a)=>{if(s)return s.code==="ENOENT"?Fi.mkdirs(o,c=>{if(c)return t(c);i()}):t(s);a.isDirectory()?i():le.readdir(o,c=>{if(c)return t(c)})})})}function Va(e){let t;try{t=le.statSync(e)}catch{}if(t&&t.isFile())return;let i=Pi.dirname(e);try{le.statSync(i).isDirectory()||le.readdirSync(i)}catch(r){if(r&&r.code==="ENOENT")Fi.mkdirsSync(i);else throw r}le.writeFileSync(e,"")}Ci.exports={createFile:Ya($a),createFileSync:Va}});var Hi=y((V0,qi)=>{"use strict";var Wa=z().fromCallback,Ui=require("path"),he=$(),Mi=Z(),za=fe().pathExists,{areIdentical:Bi}=ye();function Qa(e,t,i){function r(n,o){he.link(n,o,s=>{if(s)return i(s);i(null)})}he.lstat(t,(n,o)=>{he.lstat(e,(s,a)=>{if(s)return s.message=s.message.replace("lstat","ensureLink"),i(s);if(o&&Bi(a,o))return i(null);let c=Ui.dirname(t);za(c,(h,f)=>{if(h)return i(h);if(f)return r(e,t);Mi.mkdirs(c,l=>{if(l)return i(l);r(e,t)})})})})}function Ka(e,t){let i;try{i=he.lstatSync(t)}catch{}try{let o=he.lstatSync(e);if(i&&Bi(o,i))return}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}let r=Ui.dirname(t);return he.existsSync(r)||Mi.mkdirsSync(r),he.linkSync(e,t)}qi.exports={createLink:Wa(Qa),createLinkSync:Ka}});var Gi=y((W0,ji)=>{"use strict";var me=require("path"),Be=$(),Ja=fe().pathExists;function Xa(e,t,i){if(me.isAbsolute(e))return Be.lstat(e,r=>r?(r.message=r.message.replace("lstat","ensureSymlink"),i(r)):i(null,{toCwd:e,toDst:e}));{let r=me.dirname(t),n=me.join(r,e);return Ja(n,(o,s)=>o?i(o):s?i(null,{toCwd:n,toDst:e}):Be.lstat(e,a=>a?(a.message=a.message.replace("lstat","ensureSymlink"),i(a)):i(null,{toCwd:e,toDst:me.relative(r,e)})))}}function Za(e,t){let i;if(me.isAbsolute(e)){if(i=Be.existsSync(e),!i)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}else{let r=me.dirname(t),n=me.join(r,e);if(i=Be.existsSync(n),i)return{toCwd:n,toDst:e};if(i=Be.existsSync(e),!i)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:me.relative(r,e)}}}ji.exports={symlinkPaths:Xa,symlinkPathsSync:Za}});var Vi=y((z0,$i)=>{"use strict";var Yi=$();function ec(e,t,i){if(i=typeof t=="function"?t:i,t=typeof t=="function"?!1:t,t)return i(null,t);Yi.lstat(e,(r,n)=>{if(r)return i(null,"file");t=n&&n.isDirectory()?"dir":"file",i(null,t)})}function tc(e,t){let i;if(t)return t;try{i=Yi.lstatSync(e)}catch{return"file"}return i&&i.isDirectory()?"dir":"file"}$i.exports={symlinkType:ec,symlinkTypeSync:tc}});var en=y((Q0,Zi)=>{"use strict";var rc=z().fromCallback,zi=require("path"),ee=xe(),Qi=Z(),ic=Qi.mkdirs,nc=Qi.mkdirsSync,Ki=Gi(),oc=Ki.symlinkPaths,sc=Ki.symlinkPathsSync,Ji=Vi(),ac=Ji.symlinkType,cc=Ji.symlinkTypeSync,uc=fe().pathExists,{areIdentical:Xi}=ye();function fc(e,t,i,r){r=typeof i=="function"?i:r,i=typeof i=="function"?!1:i,ee.lstat(t,(n,o)=>{!n&&o.isSymbolicLink()?Promise.all([ee.stat(e),ee.stat(t)]).then(([s,a])=>{if(Xi(s,a))return r(null);Wi(e,t,i,r)}):Wi(e,t,i,r)})}function Wi(e,t,i,r){oc(e,t,(n,o)=>{if(n)return r(n);e=o.toDst,ac(o.toCwd,i,(s,a)=>{if(s)return r(s);let c=zi.dirname(t);uc(c,(h,f)=>{if(h)return r(h);if(f)return ee.symlink(e,t,a,r);ic(c,l=>{if(l)return r(l);ee.symlink(e,t,a,r)})})})})}function lc(e,t,i){let r;try{r=ee.lstatSync(t)}catch{}if(r&&r.isSymbolicLink()){let a=ee.statSync(e),c=ee.statSync(t);if(Xi(a,c))return}let n=sc(e,t);e=n.toDst,i=cc(n.toCwd,i);let o=zi.dirname(t);return ee.existsSync(o)||nc(o),ee.symlinkSync(e,t,i)}Zi.exports={createSymlink:rc(fc),createSymlinkSync:lc}});var un=y((K0,cn)=>{"use strict";var{createFile:tn,createFileSync:rn}=Li(),{createLink:nn,createLinkSync:on}=Hi(),{createSymlink:sn,createSymlinkSync:an}=en();cn.exports={createFile:tn,createFileSync:rn,ensureFile:tn,ensureFileSync:rn,createLink:nn,createLinkSync:on,ensureLink:nn,ensureLinkSync:on,createSymlink:sn,createSymlinkSync:an,ensureSymlink:sn,ensureSymlinkSync:an}});var st=y((J0,fn)=>{function hc(e,{EOL:t=`
`,finalEOL:i=!0,replacer:r=null,spaces:n}={}){let o=i?t:"";return JSON.stringify(e,r,n).replace(/\n/g,t)+o}function mc(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}fn.exports={stringify:hc,stripBom:mc}});var pn=y((X0,mn)=>{var Ie;try{Ie=$()}catch{Ie=require("fs")}var at=z(),{stringify:ln,stripBom:hn}=st();async function pc(e,t={}){typeof t=="string"&&(t={encoding:t});let i=t.fs||Ie,r="throws"in t?t.throws:!0,n=await at.fromCallback(i.readFile)(e,t);n=hn(n);let o;try{o=JSON.parse(n,t?t.reviver:null)}catch(s){if(r)throw s.message=`${e}: ${s.message}`,s;return null}return o}var dc=at.fromPromise(pc);function Ec(e,t={}){typeof t=="string"&&(t={encoding:t});let i=t.fs||Ie,r="throws"in t?t.throws:!0;try{let n=i.readFileSync(e,t);return n=hn(n),JSON.parse(n,t.reviver)}catch(n){if(r)throw n.message=`${e}: ${n.message}`,n;return null}}async function xc(e,t,i={}){let r=i.fs||Ie,n=ln(t,i);await at.fromCallback(r.writeFile)(e,n,i)}var yc=at.fromPromise(xc);function Tc(e,t,i={}){let r=i.fs||Ie,n=ln(t,i);return r.writeFileSync(e,n,i)}var _c={readFile:dc,readFileSync:Ec,writeFile:yc,writeFileSync:Tc};mn.exports=_c});var En=y((Z0,dn)=>{"use strict";var ct=pn();dn.exports={readJson:ct.readFile,readJsonSync:ct.readFileSync,writeJson:ct.writeFile,writeJsonSync:ct.writeFileSync}});var ut=y((el,Tn)=>{"use strict";var gc=z().fromCallback,qe=$(),xn=require("path"),yn=Z(),Oc=fe().pathExists;function Sc(e,t,i,r){typeof i=="function"&&(r=i,i="utf8");let n=xn.dirname(e);Oc(n,(o,s)=>{if(o)return r(o);if(s)return qe.writeFile(e,t,i,r);yn.mkdirs(n,a=>{if(a)return r(a);qe.writeFile(e,t,i,r)})})}function Nc(e,...t){let i=xn.dirname(e);if(qe.existsSync(i))return qe.writeFileSync(e,...t);yn.mkdirsSync(i),qe.writeFileSync(e,...t)}Tn.exports={outputFile:gc(Sc),outputFileSync:Nc}});var gn=y((tl,_n)=>{"use strict";var{stringify:wc}=st(),{outputFile:Ic}=ut();async function Rc(e,t,i={}){let r=wc(t,i);await Ic(e,r,i)}_n.exports=Rc});var Sn=y((rl,On)=>{"use strict";var{stringify:Ac}=st(),{outputFileSync:vc}=ut();function kc(e,t,i){let r=Ac(t,i);vc(e,r,i)}On.exports=kc});var wn=y((il,Nn)=>{"use strict";var bc=z().fromPromise,V=En();V.outputJson=bc(gn());V.outputJsonSync=Sn();V.outputJSON=V.outputJson;V.outputJSONSync=V.outputJsonSync;V.writeJSON=V.writeJson;V.writeJSONSync=V.writeJsonSync;V.readJSON=V.readJson;V.readJSONSync=V.readJsonSync;Nn.exports=V});var kn=y((nl,vn)=>{"use strict";var Dc=$(),Ut=require("path"),Pc=rt().copy,An=Me().remove,Fc=Z().mkdirp,Cc=fe().pathExists,In=ye();function Lc(e,t,i,r){typeof i=="function"&&(r=i,i={}),i=i||{};let n=i.overwrite||i.clobber||!1;In.checkPaths(e,t,"move",i,(o,s)=>{if(o)return r(o);let{srcStat:a,isChangingCase:c=!1}=s;In.checkParentPaths(e,a,t,"move",h=>{if(h)return r(h);if(Uc(t))return Rn(e,t,n,c,r);Fc(Ut.dirname(t),f=>f?r(f):Rn(e,t,n,c,r))})})}function Uc(e){let t=Ut.dirname(e);return Ut.parse(t).root===t}function Rn(e,t,i,r,n){if(r)return Lt(e,t,i,n);if(i)return An(t,o=>o?n(o):Lt(e,t,i,n));Cc(t,(o,s)=>o?n(o):s?n(new Error("dest already exists.")):Lt(e,t,i,n))}function Lt(e,t,i,r){Dc.rename(e,t,n=>n?n.code!=="EXDEV"?r(n):Mc(e,t,i,r):r())}function Mc(e,t,i,r){Pc(e,t,{overwrite:i,errorOnExist:!0},o=>o?r(o):An(e,r))}vn.exports=Lc});var Cn=y((ol,Fn)=>{"use strict";var Dn=$(),Bt=require("path"),Bc=rt().copySync,Pn=Me().removeSync,qc=Z().mkdirpSync,bn=ye();function Hc(e,t,i){i=i||{};let r=i.overwrite||i.clobber||!1,{srcStat:n,isChangingCase:o=!1}=bn.checkPathsSync(e,t,"move",i);return bn.checkParentPathsSync(e,n,t,"move"),jc(t)||qc(Bt.dirname(t)),Gc(e,t,r,o)}function jc(e){let t=Bt.dirname(e);return Bt.parse(t).root===t}function Gc(e,t,i,r){if(r)return Mt(e,t,i);if(i)return Pn(t),Mt(e,t,i);if(Dn.existsSync(t))throw new Error("dest already exists.");return Mt(e,t,i)}function Mt(e,t,i){try{Dn.renameSync(e,t)}catch(r){if(r.code!=="EXDEV")throw r;return Yc(e,t,i)}}function Yc(e,t,i){return Bc(e,t,{overwrite:i,errorOnExist:!0}),Pn(e)}Fn.exports=Hc});var Un=y((sl,Ln)=>{"use strict";var $c=z().fromCallback;Ln.exports={move:$c(kn()),moveSync:Cn()}});var qt=y((al,Mn)=>{"use strict";Mn.exports={...xe(),...rt(),...Di(),...un(),...wn(),...Z(),...Un(),...ut(),...fe(),...Me()}});var Ht=y(u=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0});u.USE_PROXY=u.UNSUPPORTED_MEDIA_TYPE=u.UNPROCESSABLE_ENTITY=u.UNAUTHORIZED=u.TOO_MANY_REQUESTS=u.TEMPORARY_REDIRECT=u.SWITCHING_PROTOCOLS=u.SERVICE_UNAVAILABLE=u.SEE_OTHER=u.RESET_CONTENT=u.REQUESTED_RANGE_NOT_SATISFIABLE=u.REQUEST_URI_TOO_LONG=u.REQUEST_TOO_LONG=u.REQUEST_TIMEOUT=u.REQUEST_HEADER_FIELDS_TOO_LARGE=u.PROXY_AUTHENTICATION_REQUIRED=u.PROCESSING=u.PRECONDITION_REQUIRED=u.PRECONDITION_FAILED=u.PERMANENT_REDIRECT=u.PAYMENT_REQUIRED=u.PARTIAL_CONTENT=u.OK=u.NOT_MODIFIED=u.NOT_IMPLEMENTED=u.NOT_FOUND=u.NOT_ACCEPTABLE=u.NON_AUTHORITATIVE_INFORMATION=u.NO_CONTENT=u.NETWORK_AUTHENTICATION_REQUIRED=u.MULTIPLE_CHOICES=u.MULTI_STATUS=u.MOVED_TEMPORARILY=u.MOVED_PERMANENTLY=u.METHOD_NOT_ALLOWED=u.METHOD_FAILURE=u.LOCKED=u.LENGTH_REQUIRED=u.INTERNAL_SERVER_ERROR=u.INSUFFICIENT_STORAGE=u.INSUFFICIENT_SPACE_ON_RESOURCE=u.IM_A_TEAPOT=u.HTTP_VERSION_NOT_SUPPORTED=u.GONE=u.GATEWAY_TIMEOUT=u.FORBIDDEN=u.FAILED_DEPENDENCY=u.EXPECTATION_FAILED=u.CREATED=u.CONTINUE=u.CONFLICT=u.BAD_REQUEST=u.BAD_GATEWAY=u.ACCEPTED=void 0;u.ACCEPTED=202;u.BAD_GATEWAY=502;u.BAD_REQUEST=400;u.CONFLICT=409;u.CONTINUE=100;u.CREATED=201;u.EXPECTATION_FAILED=417;u.FAILED_DEPENDENCY=424;u.FORBIDDEN=403;u.GATEWAY_TIMEOUT=504;u.GONE=410;u.HTTP_VERSION_NOT_SUPPORTED=505;u.IM_A_TEAPOT=418;u.INSUFFICIENT_SPACE_ON_RESOURCE=419;u.INSUFFICIENT_STORAGE=507;u.INTERNAL_SERVER_ERROR=500;u.LENGTH_REQUIRED=411;u.LOCKED=423;u.METHOD_FAILURE=420;u.METHOD_NOT_ALLOWED=405;u.MOVED_PERMANENTLY=301;u.MOVED_TEMPORARILY=302;u.MULTI_STATUS=207;u.MULTIPLE_CHOICES=300;u.NETWORK_AUTHENTICATION_REQUIRED=511;u.NO_CONTENT=204;u.NON_AUTHORITATIVE_INFORMATION=203;u.NOT_ACCEPTABLE=406;u.NOT_FOUND=404;u.NOT_IMPLEMENTED=501;u.NOT_MODIFIED=304;u.OK=200;u.PARTIAL_CONTENT=206;u.PAYMENT_REQUIRED=402;u.PERMANENT_REDIRECT=308;u.PRECONDITION_FAILED=412;u.PRECONDITION_REQUIRED=428;u.PROCESSING=102;u.PROXY_AUTHENTICATION_REQUIRED=407;u.REQUEST_HEADER_FIELDS_TOO_LARGE=431;u.REQUEST_TIMEOUT=408;u.REQUEST_TOO_LONG=413;u.REQUEST_URI_TOO_LONG=414;u.REQUESTED_RANGE_NOT_SATISFIABLE=416;u.RESET_CONTENT=205;u.SEE_OTHER=303;u.SERVICE_UNAVAILABLE=503;u.SWITCHING_PROTOCOLS=101;u.TEMPORARY_REDIRECT=307;u.TOO_MANY_REQUESTS=429;u.UNAUTHORIZED=401;u.UNPROCESSABLE_ENTITY=422;u.UNSUPPORTED_MEDIA_TYPE=415;u.USE_PROXY=305;u.default={ACCEPTED:u.ACCEPTED,BAD_GATEWAY:u.BAD_GATEWAY,BAD_REQUEST:u.BAD_REQUEST,CONFLICT:u.CONFLICT,CONTINUE:u.CONTINUE,CREATED:u.CREATED,EXPECTATION_FAILED:u.EXPECTATION_FAILED,FORBIDDEN:u.FORBIDDEN,GATEWAY_TIMEOUT:u.GATEWAY_TIMEOUT,GONE:u.GONE,HTTP_VERSION_NOT_SUPPORTED:u.HTTP_VERSION_NOT_SUPPORTED,IM_A_TEAPOT:u.IM_A_TEAPOT,INSUFFICIENT_SPACE_ON_RESOURCE:u.INSUFFICIENT_SPACE_ON_RESOURCE,INSUFFICIENT_STORAGE:u.INSUFFICIENT_STORAGE,INTERNAL_SERVER_ERROR:u.INTERNAL_SERVER_ERROR,LENGTH_REQUIRED:u.LENGTH_REQUIRED,LOCKED:u.LOCKED,METHOD_FAILURE:u.METHOD_FAILURE,METHOD_NOT_ALLOWED:u.METHOD_NOT_ALLOWED,MOVED_PERMANENTLY:u.MOVED_PERMANENTLY,MOVED_TEMPORARILY:u.MOVED_TEMPORARILY,MULTI_STATUS:u.MULTI_STATUS,MULTIPLE_CHOICES:u.MULTIPLE_CHOICES,NETWORK_AUTHENTICATION_REQUIRED:u.NETWORK_AUTHENTICATION_REQUIRED,NO_CONTENT:u.NO_CONTENT,NON_AUTHORITATIVE_INFORMATION:u.NON_AUTHORITATIVE_INFORMATION,NOT_ACCEPTABLE:u.NOT_ACCEPTABLE,NOT_FOUND:u.NOT_FOUND,NOT_IMPLEMENTED:u.NOT_IMPLEMENTED,NOT_MODIFIED:u.NOT_MODIFIED,OK:u.OK,PARTIAL_CONTENT:u.PARTIAL_CONTENT,PAYMENT_REQUIRED:u.PAYMENT_REQUIRED,PERMANENT_REDIRECT:u.PERMANENT_REDIRECT,PRECONDITION_FAILED:u.PRECONDITION_FAILED,PRECONDITION_REQUIRED:u.PRECONDITION_REQUIRED,PROCESSING:u.PROCESSING,PROXY_AUTHENTICATION_REQUIRED:u.PROXY_AUTHENTICATION_REQUIRED,REQUEST_HEADER_FIELDS_TOO_LARGE:u.REQUEST_HEADER_FIELDS_TOO_LARGE,REQUEST_TIMEOUT:u.REQUEST_TIMEOUT,REQUEST_TOO_LONG:u.REQUEST_TOO_LONG,REQUEST_URI_TOO_LONG:u.REQUEST_URI_TOO_LONG,REQUESTED_RANGE_NOT_SATISFIABLE:u.REQUESTED_RANGE_NOT_SATISFIABLE,RESET_CONTENT:u.RESET_CONTENT,SEE_OTHER:u.SEE_OTHER,SERVICE_UNAVAILABLE:u.SERVICE_UNAVAILABLE,SWITCHING_PROTOCOLS:u.SWITCHING_PROTOCOLS,TEMPORARY_REDIRECT:u.TEMPORARY_REDIRECT,TOO_MANY_REQUESTS:u.TOO_MANY_REQUESTS,UNAUTHORIZED:u.UNAUTHORIZED,UNPROCESSABLE_ENTITY:u.UNPROCESSABLE_ENTITY,UNSUPPORTED_MEDIA_TYPE:u.UNSUPPORTED_MEDIA_TYPE,USE_PROXY:u.USE_PROXY}});var Bn=y(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.reasonPhraseToStatusCode=Re.statusCodeToReasonPhrase=void 0;Re.statusCodeToReasonPhrase={202:"Accepted",502:"Bad Gateway",400:"Bad Request",409:"Conflict",100:"Continue",201:"Created",417:"Expectation Failed",424:"Failed Dependency",403:"Forbidden",504:"Gateway Timeout",410:"Gone",505:"HTTP Version Not Supported",418:"I'm a teapot",419:"Insufficient Space on Resource",507:"Insufficient Storage",500:"Internal Server Error",411:"Length Required",423:"Locked",420:"Method Failure",405:"Method Not Allowed",301:"Moved Permanently",302:"Moved Temporarily",207:"Multi-Status",300:"Multiple Choices",511:"Network Authentication Required",204:"No Content",203:"Non Authoritative Information",406:"Not Acceptable",404:"Not Found",501:"Not Implemented",304:"Not Modified",200:"OK",206:"Partial Content",402:"Payment Required",308:"Permanent Redirect",412:"Precondition Failed",428:"Precondition Required",102:"Processing",407:"Proxy Authentication Required",431:"Request Header Fields Too Large",408:"Request Timeout",413:"Request Entity Too Large",414:"Request-URI Too Long",416:"Requested Range Not Satisfiable",205:"Reset Content",303:"See Other",503:"Service Unavailable",101:"Switching Protocols",307:"Temporary Redirect",429:"Too Many Requests",401:"Unauthorized",451:"Unavailable For Legal Reasons",422:"Unprocessable Entity",415:"Unsupported Media Type",305:"Use Proxy",421:"Misdirected Request"};Re.reasonPhraseToStatusCode={Accepted:202,"Bad Gateway":502,"Bad Request":400,Conflict:409,Continue:100,Created:201,"Expectation Failed":417,"Failed Dependency":424,Forbidden:403,"Gateway Timeout":504,Gone:410,"HTTP Version Not Supported":505,"I'm a teapot":418,"Insufficient Space on Resource":419,"Insufficient Storage":507,"Internal Server Error":500,"Length Required":411,Locked:423,"Method Failure":420,"Method Not Allowed":405,"Moved Permanently":301,"Moved Temporarily":302,"Multi-Status":207,"Multiple Choices":300,"Network Authentication Required":511,"No Content":204,"Non Authoritative Information":203,"Not Acceptable":406,"Not Found":404,"Not Implemented":501,"Not Modified":304,OK:200,"Partial Content":206,"Payment Required":402,"Permanent Redirect":308,"Precondition Failed":412,"Precondition Required":428,Processing:102,"Proxy Authentication Required":407,"Request Header Fields Too Large":431,"Request Timeout":408,"Request Entity Too Large":413,"Request-URI Too Long":414,"Requested Range Not Satisfiable":416,"Reset Content":205,"See Other":303,"Service Unavailable":503,"Switching Protocols":101,"Temporary Redirect":307,"Too Many Requests":429,Unauthorized:401,"Unavailable For Legal Reasons":451,"Unprocessable Entity":422,"Unsupported Media Type":415,"Use Proxy":305,"Misdirected Request":421}});var jt=y(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.getStatusText=pe.getStatusCode=pe.getReasonPhrase=void 0;var qn=Bn();function Hn(e){var t=qn.statusCodeToReasonPhrase[e.toString()];if(!t)throw new Error("Status code does not exist: "+e);return t}pe.getReasonPhrase=Hn;function Vc(e){var t=qn.reasonPhraseToStatusCode[e];if(!t)throw new Error("Reason phrase does not exist: "+e);return t}pe.getStatusCode=Vc;pe.getStatusText=Hn});var jn=y(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.StatusCodes=void 0;var Wc;(function(e){e[e.ACCEPTED=202]="ACCEPTED",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.CONFLICT=409]="CONFLICT",e[e.CONTINUE=100]="CONTINUE",e[e.CREATED=201]="CREATED",e[e.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",e[e.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",e[e.GONE=410]="GONE",e[e.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED",e[e.IM_A_TEAPOT=418]="IM_A_TEAPOT",e[e.INSUFFICIENT_SPACE_ON_RESOURCE=419]="INSUFFICIENT_SPACE_ON_RESOURCE",e[e.INSUFFICIENT_STORAGE=507]="INSUFFICIENT_STORAGE",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",e[e.LOCKED=423]="LOCKED",e[e.METHOD_FAILURE=420]="METHOD_FAILURE",e[e.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",e[e.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",e[e.MOVED_TEMPORARILY=302]="MOVED_TEMPORARILY",e[e.MULTI_STATUS=207]="MULTI_STATUS",e[e.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",e[e.NETWORK_AUTHENTICATION_REQUIRED=511]="NETWORK_AUTHENTICATION_REQUIRED",e[e.NO_CONTENT=204]="NO_CONTENT",e[e.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",e[e.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",e[e.NOT_MODIFIED=304]="NOT_MODIFIED",e[e.OK=200]="OK",e[e.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",e[e.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",e[e.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",e[e.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",e[e.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",e[e.PROCESSING=102]="PROCESSING",e[e.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",e[e.REQUEST_HEADER_FIELDS_TOO_LARGE=431]="REQUEST_HEADER_FIELDS_TOO_LARGE",e[e.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",e[e.REQUEST_TOO_LONG=413]="REQUEST_TOO_LONG",e[e.REQUEST_URI_TOO_LONG=414]="REQUEST_URI_TOO_LONG",e[e.REQUESTED_RANGE_NOT_SATISFIABLE=416]="REQUESTED_RANGE_NOT_SATISFIABLE",e[e.RESET_CONTENT=205]="RESET_CONTENT",e[e.SEE_OTHER=303]="SEE_OTHER",e[e.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",e[e.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",e[e.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.UNAVAILABLE_FOR_LEGAL_REASONS=451]="UNAVAILABLE_FOR_LEGAL_REASONS",e[e.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",e[e.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",e[e.USE_PROXY=305]="USE_PROXY",e[e.MISDIRECTED_REQUEST=421]="MISDIRECTED_REQUEST"})(Wc=He.StatusCodes||(He.StatusCodes={}))});var Gn=y(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.ReasonPhrases=void 0;var zc;(function(e){e.ACCEPTED="Accepted",e.BAD_GATEWAY="Bad Gateway",e.BAD_REQUEST="Bad Request",e.CONFLICT="Conflict",e.CONTINUE="Continue",e.CREATED="Created",e.EXPECTATION_FAILED="Expectation Failed",e.FAILED_DEPENDENCY="Failed Dependency",e.FORBIDDEN="Forbidden",e.GATEWAY_TIMEOUT="Gateway Timeout",e.GONE="Gone",e.HTTP_VERSION_NOT_SUPPORTED="HTTP Version Not Supported",e.IM_A_TEAPOT="I'm a teapot",e.INSUFFICIENT_SPACE_ON_RESOURCE="Insufficient Space on Resource",e.INSUFFICIENT_STORAGE="Insufficient Storage",e.INTERNAL_SERVER_ERROR="Internal Server Error",e.LENGTH_REQUIRED="Length Required",e.LOCKED="Locked",e.METHOD_FAILURE="Method Failure",e.METHOD_NOT_ALLOWED="Method Not Allowed",e.MOVED_PERMANENTLY="Moved Permanently",e.MOVED_TEMPORARILY="Moved Temporarily",e.MULTI_STATUS="Multi-Status",e.MULTIPLE_CHOICES="Multiple Choices",e.NETWORK_AUTHENTICATION_REQUIRED="Network Authentication Required",e.NO_CONTENT="No Content",e.NON_AUTHORITATIVE_INFORMATION="Non Authoritative Information",e.NOT_ACCEPTABLE="Not Acceptable",e.NOT_FOUND="Not Found",e.NOT_IMPLEMENTED="Not Implemented",e.NOT_MODIFIED="Not Modified",e.OK="OK",e.PARTIAL_CONTENT="Partial Content",e.PAYMENT_REQUIRED="Payment Required",e.PERMANENT_REDIRECT="Permanent Redirect",e.PRECONDITION_FAILED="Precondition Failed",e.PRECONDITION_REQUIRED="Precondition Required",e.PROCESSING="Processing",e.PROXY_AUTHENTICATION_REQUIRED="Proxy Authentication Required",e.REQUEST_HEADER_FIELDS_TOO_LARGE="Request Header Fields Too Large",e.REQUEST_TIMEOUT="Request Timeout",e.REQUEST_TOO_LONG="Request Entity Too Large",e.REQUEST_URI_TOO_LONG="Request-URI Too Long",e.REQUESTED_RANGE_NOT_SATISFIABLE="Requested Range Not Satisfiable",e.RESET_CONTENT="Reset Content",e.SEE_OTHER="See Other",e.SERVICE_UNAVAILABLE="Service Unavailable",e.SWITCHING_PROTOCOLS="Switching Protocols",e.TEMPORARY_REDIRECT="Temporary Redirect",e.TOO_MANY_REQUESTS="Too Many Requests",e.UNAUTHORIZED="Unauthorized",e.UNAVAILABLE_FOR_LEGAL_REASONS="Unavailable For Legal Reasons",e.UNPROCESSABLE_ENTITY="Unprocessable Entity",e.UNSUPPORTED_MEDIA_TYPE="Unsupported Media Type",e.USE_PROXY="Use Proxy",e.MISDIRECTED_REQUEST="Misdirected Request"})(zc=je.ReasonPhrases||(je.ReasonPhrases={}))});var Yt=y(j=>{"use strict";var ft=j&&j.__assign||function(){return ft=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},ft.apply(this,arguments)},Qc=j&&j.__createBinding||(Object.create?function(e,t,i,r){r===void 0&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){r===void 0&&(r=i),e[r]=t[i]}),Kc=j&&j.__exportStar||function(e,t){for(var i in e)i!=="default"&&!t.hasOwnProperty(i)&&Qc(t,e,i)},Jc=j&&j.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(j,"__esModule",{value:!0});var Xc=Jc(Ht()),Yn=jt(),Gt=jt();Object.defineProperty(j,"getStatusCode",{enumerable:!0,get:function(){return Gt.getStatusCode}});Object.defineProperty(j,"getReasonPhrase",{enumerable:!0,get:function(){return Gt.getReasonPhrase}});Object.defineProperty(j,"getStatusText",{enumerable:!0,get:function(){return Gt.getStatusText}});var Zc=jn();Object.defineProperty(j,"StatusCodes",{enumerable:!0,get:function(){return Zc.StatusCodes}});var eu=Gn();Object.defineProperty(j,"ReasonPhrases",{enumerable:!0,get:function(){return eu.ReasonPhrases}});Kc(Ht(),j);j.default=ft(ft({},Xc.default),{getStatusCode:Yn.getStatusCode,getStatusText:Yn.getStatusText})});var zn=y((xl,Wn)=>{Wn.exports=function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var i,r,n,o,s=[],a="",c=e.split("/");for(c[0]||c.shift();n=c.shift();)i=n[0],i==="*"?(s.push("wild"),a+="/(.*)"):i===":"?(r=n.indexOf("?",1),o=n.indexOf(".",1),s.push(n.substring(1,~r?r:~o?o:n.length)),a+=!!~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~r?"?":"")+"\\"+n.substring(o))):a+="/"+n;return{keys:s,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}});var Jn=y((Tl,Kn)=>{var Qn=zn();Kn.exports=class{constructor(){this.routes=[],this.all=this.add.bind(this,""),this.get=this.add.bind(this,"GET"),this.head=this.add.bind(this,"HEAD"),this.patch=this.add.bind(this,"PATCH"),this.options=this.add.bind(this,"OPTIONS"),this.connect=this.add.bind(this,"CONNECT"),this.delete=this.add.bind(this,"DELETE"),this.trace=this.add.bind(this,"TRACE"),this.post=this.add.bind(this,"POST"),this.put=this.add.bind(this,"PUT")}use(t,...i){let r=[].concat.apply([],i),{keys:n,pattern:o}=Qn(t,!0);return this.routes.push({keys:n,pattern:o,method:"",handlers:r}),this}add(t,i,...r){let{keys:n,pattern:o}=Qn(i),s=[].concat.apply([],r);return this.routes.push({keys:n,pattern:o,method:t,handlers:s}),this}find(t,i){let r=t==="HEAD",n=0,o=0,s,a,c=this.routes,h=[],f={},l=[];for(;n<c.length;n++)if(a=c[n],a.method.length===0||a.method===t||r&&a.method==="GET")if(a.keys===!1){if(h=a.pattern.exec(i),h===null)continue;if(h.groups!==void 0)for(s in h.groups)f[s]=h.groups[s];a.handlers.length>1?l=l.concat(a.handlers):l.push(a.handlers[0])}else if(a.keys.length>0){if(h=a.pattern.exec(i),h===null)continue;for(o=0;o<a.keys.length;)f[a.keys[o]]=h[++o];a.handlers.length>1?l=l.concat(a.handlers):l.push(a.handlers[0])}else a.pattern.test(i)&&(a.handlers.length>1?l=l.concat(a.handlers):l.push(a.handlers[0]));return{params:f,handlers:l}}}});var mt=y((lo,ho)=>{"use strict";function nu(e){if(e.length===0)return;let t=Object.create(null),i=0;for(;i<e.length;++i){let s=e.charCodeAt(i);if(_e[s]!==1){if(s!==47||i===0)return;break}}if(i===e.length)return;let r=e.slice(0,i).toLowerCase(),n=++i;for(;i<e.length;++i){let s=e.charCodeAt(i);if(_e[s]!==1){if(i===n||ou(e,i,t)===void 0)return;break}}if(i===n)return;let o=e.slice(n,i).toLowerCase();return{type:r,subtype:o,params:t}}function ou(e,t,i){for(;t<e.length;){for(;t<e.length;++t){let a=e.charCodeAt(t);if(a!==32&&a!==9)break}if(t===e.length)break;if(e.charCodeAt(t++)!==59)return;for(;t<e.length;++t){let a=e.charCodeAt(t);if(a!==32&&a!==9)break}if(t===e.length)return;let r,n=t;for(;t<e.length;++t){let a=e.charCodeAt(t);if(_e[a]!==1){if(a!==61)return;break}}if(t===e.length||(r=e.slice(n,t),++t,t===e.length))return;let o="",s;if(e.charCodeAt(t)===34){s=++t;let a=!1;for(;t<e.length;++t){let c=e.charCodeAt(t);if(c===92){a?(s=t,a=!1):(o+=e.slice(s,t),a=!0);continue}if(c===34){if(a){s=t,a=!1;continue}o+=e.slice(s,t);break}if(a&&(s=t-1,a=!1),fo[c]!==1)return}if(t===e.length)return;++t}else{for(s=t;t<e.length;++t){let a=e.charCodeAt(t);if(_e[a]!==1){if(t===s)return;break}}o=e.slice(s,t)}r=r.toLowerCase(),i[r]===void 0&&(i[r]=o)}return i}function su(e,t){if(e.length===0)return;let i=Object.create(null),r=0;for(;r<e.length;++r){let o=e.charCodeAt(r);if(_e[o]!==1){if(au(e,r,i,t)===void 0)return;break}}return{type:e.slice(0,r).toLowerCase(),params:i}}function au(e,t,i,r){for(;t<e.length;){for(;t<e.length;++t){let h=e.charCodeAt(t);if(h!==32&&h!==9)break}if(t===e.length)break;if(e.charCodeAt(t++)!==59)return;for(;t<e.length;++t){let h=e.charCodeAt(t);if(h!==32&&h!==9)break}if(t===e.length)return;let n,o=t;for(;t<e.length;++t){let h=e.charCodeAt(t);if(_e[h]!==1){if(h===61)break;return}}if(t===e.length)return;let s="",a,c;if(n=e.slice(o,t),n.charCodeAt(n.length-1)===42){let h=++t;for(;t<e.length;++t){let l=e.charCodeAt(t);if(uu[l]!==1){if(l!==39)return;break}}if(t===e.length)return;for(c=e.slice(h,t),++t;t<e.length&&e.charCodeAt(t)!==39;++t);if(t===e.length||(++t,t===e.length))return;a=t;let f=0;for(;t<e.length;++t){let l=e.charCodeAt(t);if(fu[l]!==1){if(l===37){let E,p;if(t+2<e.length&&(E=ao[e.charCodeAt(t+1)])!==-1&&(p=ao[e.charCodeAt(t+2)])!==-1){let m=(E<<4)+p;s+=e.slice(a,t),s+=String.fromCharCode(m),t+=2,a=t+1,m>=128?f=2:f===0&&(f=1);continue}return}break}}if(s+=e.slice(a,t),s=uo(s,c,f),s===void 0)return}else{if(++t,t===e.length)return;if(e.charCodeAt(t)===34){a=++t;let h=!1;for(;t<e.length;++t){let f=e.charCodeAt(t);if(f===92){h?(a=t,h=!1):(s+=e.slice(a,t),h=!0);continue}if(f===34){if(h){a=t,h=!1;continue}s+=e.slice(a,t);break}if(h&&(a=t-1,h=!1),fo[f]!==1)return}if(t===e.length)return;++t}else{for(a=t;t<e.length;++t){let h=e.charCodeAt(t);if(_e[h]!==1){if(t===a)return;break}}s=e.slice(a,t)}if(s=r(s,2),s===void 0)return}n=n.toLowerCase(),i[n]===void 0&&(i[n]=s)}return i}function co(e){let t;for(;;)switch(e){case"utf-8":case"utf8":return Ge.utf8;case"latin1":case"ascii":case"us-ascii":case"iso-8859-1":case"iso8859-1":case"iso88591":case"iso_8859-1":case"windows-1252":case"iso_8859-1:1987":case"cp1252":case"x-cp1252":return Ge.latin1;case"utf16le":case"utf-16le":case"ucs2":case"ucs-2":return Ge.utf16le;case"base64":return Ge.base64;default:if(t===void 0){t=!0,e=e.toLowerCase();continue}return Ge.other.bind(e)}}var Ge={utf8:(e,t)=>{if(e.length===0)return"";if(typeof e=="string"){if(t<2)return e;e=Buffer.from(e,"latin1")}return e.utf8Slice(0,e.length)},latin1:(e,t)=>e.length===0?"":typeof e=="string"?e:e.latin1Slice(0,e.length),utf16le:(e,t)=>e.length===0?"":(typeof e=="string"&&(e=Buffer.from(e,"latin1")),e.ucs2Slice(0,e.length)),base64:(e,t)=>e.length===0?"":(typeof e=="string"&&(e=Buffer.from(e,"latin1")),e.base64Slice(0,e.length)),other:(e,t)=>{if(e.length===0)return"";typeof e=="string"&&(e=Buffer.from(e,"latin1"));try{return new TextDecoder(lo).decode(e)}catch{}}};function uo(e,t,i){let r=co(t);if(r)return r(e,i)}function cu(e){if(typeof e!="string")return"";for(let t=e.length-1;t>=0;--t)switch(e.charCodeAt(t)){case 47:case 92:return e=e.slice(t+1),e===".."||e==="."?"":e}return e===".."||e==="."?"":e}var _e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],fo=[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],uu=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,0,0,0,0,1,0,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],fu=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ao=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];ho.exports={basename:cu,convertToUTF8:uo,getDecoder:co,parseContentType:nu,parseDisposition:su}});var xo=y((Rl,Eo)=>{"use strict";function mo(e,t,i,r,n){for(let o=0;o<n;++o)if(e[t+o]!==i[r+o])return!1;return!0}var Kt=class{constructor(t,i){if(typeof i!="function")throw new Error("Missing match callback");if(typeof t=="string")t=Buffer.from(t);else if(!Buffer.isBuffer(t))throw new Error(`Expected Buffer for needle, got ${typeof t}`);let r=t.length;if(this.maxMatches=1/0,this.matches=0,this._cb=i,this._lookbehindSize=0,this._needle=t,this._bufPos=0,this._lookbehind=Buffer.allocUnsafe(r),this._occ=[r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r],r>1)for(let n=0;n<r-1;++n)this._occ[t[n]]=r-1-n}reset(){this.matches=0,this._lookbehindSize=0,this._bufPos=0}push(t,i){let r;Buffer.isBuffer(t)||(t=Buffer.from(t,"latin1"));let n=t.length;for(this._bufPos=i||0;r!==n&&this.matches<this.maxMatches;)r=lu(this,t);return r}destroy(){let t=this._lookbehindSize;t&&this._cb(!1,this._lookbehind,0,t,!1),this.reset()}};function lu(e,t){let i=t.length,r=e._needle,n=r.length,o=-e._lookbehindSize,s=n-1,a=r[s],c=i-n,h=e._occ,f=e._lookbehind;if(o<0){for(;o<0&&o<=c;){let E=o+s,p=E<0?f[e._lookbehindSize+E]:t[E];if(p===a&&po(e,t,o,s))return e._lookbehindSize=0,++e.matches,o>-e._lookbehindSize?e._cb(!0,f,0,e._lookbehindSize+o,!1):e._cb(!0,void 0,0,0,!0),e._bufPos=o+n;o+=h[p]}for(;o<0&&!po(e,t,o,i-o);)++o;if(o<0){let E=e._lookbehindSize+o;return E>0&&e._cb(!1,f,0,E,!1),e._lookbehindSize-=E,f.copy(f,0,E,e._lookbehindSize),f.set(t,e._lookbehindSize),e._lookbehindSize+=i,e._bufPos=i,i}e._cb(!1,f,0,e._lookbehindSize,!1),e._lookbehindSize=0}o+=e._bufPos;let l=r[0];for(;o<=c;){let E=t[o+s];if(E===a&&t[o]===l&&mo(r,0,t,o,s))return++e.matches,o>0?e._cb(!0,t,e._bufPos,o,!0):e._cb(!0,void 0,0,0,!0),e._bufPos=o+n;o+=h[E]}for(;o<i;){if(t[o]!==l||!mo(t,o,r,0,i-o)){++o;continue}t.copy(f,0,o,i),e._lookbehindSize=i-o;break}return o>0&&e._cb(!1,t,e._bufPos,o<i?o:i,!0),e._bufPos=i,i}function po(e,t,i,r){let n=e._lookbehind,o=e._lookbehindSize,s=e._needle;for(let a=0;a<r;++a,++i)if((i<0?n[o+i]:t[i])!==s[a])return!1;return!0}Eo.exports=Kt});var Io=y((Al,wo)=>{"use strict";var{Readable:hu,Writable:mu}=require("stream"),pu=xo(),{basename:du,convertToUTF8:yo,getDecoder:Eu,parseContentType:xu,parseDisposition:yu}=mt(),Tu=Buffer.from(`\r
`),_u=Buffer.from("\r"),gu=Buffer.from("-");function To(){}var Ou=2e3,ke=16*1024,pt=0,_o=1,go=2,Jt=class{constructor(t){this.header=Object.create(null),this.pairCount=0,this.byteCount=0,this.state=pt,this.name="",this.value="",this.crlf=0,this.cb=t}reset(){this.header=Object.create(null),this.pairCount=0,this.byteCount=0,this.state=pt,this.name="",this.value="",this.crlf=0}push(t,i,r){let n=i;for(;i<r;)switch(this.state){case pt:{let o=!1;for(;i<r;++i){if(this.byteCount===ke)return-1;++this.byteCount;let s=t[i];if(wu[s]!==1){if(s!==58||(this.name+=t.latin1Slice(n,i),this.name.length===0))return-1;++i,o=!0,this.state=_o;break}}if(!o){this.name+=t.latin1Slice(n,i);break}}case _o:{let o=!1;for(;i<r;++i){if(this.byteCount===ke)return-1;++this.byteCount;let s=t[i];if(s!==32&&s!==9){n=i,o=!0,this.state=go;break}}if(!o)break}case go:switch(this.crlf){case 0:for(;i<r;++i){if(this.byteCount===ke)return-1;++this.byteCount;let o=t[i];if(Iu[o]!==1){if(o!==13)return-1;++this.crlf;break}}this.value+=t.latin1Slice(n,i++);break;case 1:if(this.byteCount===ke||(++this.byteCount,t[i++]!==10))return-1;++this.crlf;break;case 2:{if(this.byteCount===ke)return-1;++this.byteCount;let o=t[i];o===32||o===9?(n=i,this.crlf=0):(++this.pairCount<Ou&&(this.name=this.name.toLowerCase(),this.header[this.name]===void 0?this.header[this.name]=[this.value]:this.header[this.name].push(this.value)),o===13?(++this.crlf,++i):(n=i,this.crlf=0,this.state=pt,this.name="",this.value=""));break}case 3:{if(this.byteCount===ke||(++this.byteCount,t[i++]!==10))return-1;let o=this.header;return this.reset(),this.cb(o),i}}break}return i}},Xt=class extends hu{constructor(t,i){super(t),this.truncated=!1,this._readcb=null,this.once("end",()=>{if(this._read(),--i._fileEndsLeft===0&&i._finalcb){let r=i._finalcb;i._finalcb=null,process.nextTick(r)}})}_read(t){let i=this._readcb;i&&(this._readcb=null,i())}},Oo={push:(e,t)=>{},destroy:()=>{}};function Su(e,t){let i=e._writecb;e._writecb=null,t?e.destroy(t):i&&i()}function Nu(e,t){return e}var Zt=class extends mu{constructor(t){let i={autoDestroy:!0,emitClose:!0,highWaterMark:typeof t.highWaterMark=="number"?t.highWaterMark:void 0};if(super(i),!t.conType.params||typeof t.conType.params.boundary!="string")throw new Error("Multipart: Boundary not found");let r=t.conType.params.boundary,n=typeof t.defParamCharset=="string"&&t.defParamCharset?Eu(t.defParamCharset):Nu,o=t.defCharset||"utf8",s=t.preservePath,a={autoDestroy:!0,emitClose:!0,highWaterMark:typeof t.fileHwm=="number"?t.fileHwm:void 0},c=t.limits,h=c&&typeof c.fieldSize=="number"?c.fieldSize:1*1024*1024,f=c&&typeof c.fileSize=="number"?c.fileSize:1/0,l=c&&typeof c.files=="number"?c.files:1/0,E=c&&typeof c.fields=="number"?c.fields:1/0,p=c&&typeof c.parts=="number"?c.parts:1/0,m=-1,d=0,x=0,T=!1;this._fileEndsLeft=0,this._fileStream=void 0,this._complete=!1;let O=0,N,B=0,X,L,F,J,g=!1,I=!1,w=!1;this._hparser=null;let U=new Jt(R=>{this._hparser=null,T=!1,F="text/plain",X=o,L="7bit",J=void 0,g=!1;let S;if(!R["content-disposition"]){T=!0;return}let _=yu(R["content-disposition"][0],n);if(!_||_.type!=="form-data"){T=!0;return}if(_.params&&(_.params.name&&(J=_.params.name),_.params["filename*"]?S=_.params["filename*"]:_.params.filename&&(S=_.params.filename),S!==void 0&&!s&&(S=du(S))),R["content-type"]){let A=xu(R["content-type"][0]);A&&(F=`${A.type}/${A.subtype}`,A.params&&typeof A.params.charset=="string"&&(X=A.params.charset.toLowerCase()))}if(R["content-transfer-encoding"]&&(L=R["content-transfer-encoding"][0].toLowerCase()),F==="application/octet-stream"||S!==void 0){if(x===l){I||(I=!0,this.emit("filesLimit")),T=!0;return}if(++x,this.listenerCount("file")===0){T=!0;return}O=0,this._fileStream=new Xt(a,this),++this._fileEndsLeft,this.emit("file",J,this._fileStream,{filename:S,encoding:L,mimeType:F})}else{if(d===E){w||(w=!0,this.emit("fieldsLimit")),T=!0;return}if(++d,this.listenerCount("field")===0){T=!0;return}N=[],B=0}}),v=0,C=(R,S,_,A,k)=>{e:for(;S;){if(this._hparser!==null){let D=this._hparser.push(S,_,A);if(D===-1){this._hparser=null,U.reset(),this.emit("error",new Error("Malformed part header"));break}_=D}if(_===A)break;if(v!==0){if(v===1){switch(S[_]){case 45:v=2,++_;break;case 13:v=3,++_;break;default:v=0}if(_===A)return}if(v===2){if(v=0,S[_]===45){this._complete=!0,this._bparser=Oo;return}let D=this._writecb;this._writecb=To,C(!1,gu,0,1,!1),this._writecb=D}else if(v===3)if(v=0,S[_]===10){if(++_,m>=p||(this._hparser=U,_===A))break;continue e}else{let D=this._writecb;this._writecb=To,C(!1,_u,0,1,!1),this._writecb=D}}if(!T){if(this._fileStream){let D,se=Math.min(A-_,f-O);k?D=S.slice(_,_+se):(D=Buffer.allocUnsafe(se),S.copy(D,0,_,_+se)),O+=D.length,O===f?(D.length>0&&this._fileStream.push(D),this._fileStream.emit("limit"),this._fileStream.truncated=!0,T=!0):this._fileStream.push(D)||(this._writecb&&(this._fileStream._readcb=this._writecb),this._writecb=null)}else if(N!==void 0){let D,se=Math.min(A-_,h-B);k?D=S.slice(_,_+se):(D=Buffer.allocUnsafe(se),S.copy(D,0,_,_+se)),B+=se,N.push(D),B===h&&(T=!0,g=!0)}}break}if(R){if(v=1,this._fileStream)this._fileStream.push(null),this._fileStream=null;else if(N!==void 0){let D;switch(N.length){case 0:D="";break;case 1:D=yo(N[0],X,0);break;default:D=yo(Buffer.concat(N,B),X,0)}N=void 0,B=0,this.emit("field",J,D,{nameTruncated:!1,valueTruncated:g,encoding:L,mimeType:F})}++m===p&&this.emit("partsLimit")}};this._bparser=new pu(`\r
--${r}`,C),this._writecb=null,this._finalcb=null,this.write(Tu)}static detect(t){return t.type==="multipart"&&t.subtype==="form-data"}_write(t,i,r){this._writecb=r,this._bparser.push(t,0),this._writecb&&Su(this)}_destroy(t,i){this._hparser=null,this._bparser=Oo,t||(t=No(this));let r=this._fileStream;r&&(this._fileStream=null,r.destroy(t)),i(t)}_final(t){if(this._bparser.destroy(),!this._complete)return t(new Error("Unexpected end of form"));this._fileEndsLeft?this._finalcb=So.bind(null,this,t):So(this,t)}};function So(e,t,i){if(i)return t(i);i=No(e),t(i)}function No(e){if(e._hparser)return new Error("Malformed part header");let t=e._fileStream;if(t&&(e._fileStream=null,t.destroy(new Error("Unexpected end of file"))),!e._complete)return new Error("Unexpected end of form")}var wu=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Iu=[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];wo.exports=Zt});var Ao=y((vl,Ro)=>{"use strict";var{Writable:Ru}=require("stream"),{getDecoder:Au}=mt(),nr=class extends Ru{constructor(t){let i={autoDestroy:!0,emitClose:!0,highWaterMark:typeof t.highWaterMark=="number"?t.highWaterMark:void 0};super(i);let r=t.defCharset||"utf8";t.conType.params&&typeof t.conType.params.charset=="string"&&(r=t.conType.params.charset),this.charset=r;let n=t.limits;this.fieldSizeLimit=n&&typeof n.fieldSize=="number"?n.fieldSize:1*1024*1024,this.fieldsLimit=n&&typeof n.fields=="number"?n.fields:1/0,this.fieldNameSizeLimit=n&&typeof n.fieldNameSize=="number"?n.fieldNameSize:100,this._inKey=!0,this._keyTrunc=!1,this._valTrunc=!1,this._bytesKey=0,this._bytesVal=0,this._fields=0,this._key="",this._val="",this._byte=-2,this._lastPos=0,this._encode=0,this._decoder=Au(r)}static detect(t){return t.type==="application"&&t.subtype==="x-www-form-urlencoded"}_write(t,i,r){if(this._fields>=this.fieldsLimit)return r();let n=0,o=t.length;if(this._lastPos=0,this._byte!==-2){if(n=er(this,t,n,o),n===-1)return r(new Error("Malformed urlencoded form"));if(n>=o)return r();this._inKey?++this._bytesKey:++this._bytesVal}e:for(;n<o;)if(this._inKey){for(n=tr(this,t,n,o);n<o;){switch(t[n]){case 61:this._lastPos<n&&(this._key+=t.latin1Slice(this._lastPos,n)),this._lastPos=++n,this._key=this._decoder(this._key,this._encode),this._encode=0,this._inKey=!1;continue e;case 38:if(this._lastPos<n&&(this._key+=t.latin1Slice(this._lastPos,n)),this._lastPos=++n,this._key=this._decoder(this._key,this._encode),this._encode=0,this._bytesKey>0&&this.emit("field",this._key,"",{nameTruncated:this._keyTrunc,valueTruncated:!1,encoding:this.charset,mimeType:"text/plain"}),this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._bytesKey=0,this._bytesVal=0,++this._fields>=this.fieldsLimit)return this.emit("fieldsLimit"),r();continue;case 43:this._lastPos<n&&(this._key+=t.latin1Slice(this._lastPos,n)),this._key+=" ",this._lastPos=n+1;break;case 37:if(this._encode===0&&(this._encode=1),this._lastPos<n&&(this._key+=t.latin1Slice(this._lastPos,n)),this._lastPos=n+1,this._byte=-1,n=er(this,t,n+1,o),n===-1)return r(new Error("Malformed urlencoded form"));if(n>=o)return r();++this._bytesKey,n=tr(this,t,n,o);continue}++n,++this._bytesKey,n=tr(this,t,n,o)}this._lastPos<n&&(this._key+=t.latin1Slice(this._lastPos,n))}else{for(n=rr(this,t,n,o);n<o;){switch(t[n]){case 38:if(this._lastPos<n&&(this._val+=t.latin1Slice(this._lastPos,n)),this._lastPos=++n,this._inKey=!0,this._val=this._decoder(this._val,this._encode),this._encode=0,(this._bytesKey>0||this._bytesVal>0)&&this.emit("field",this._key,this._val,{nameTruncated:this._keyTrunc,valueTruncated:this._valTrunc,encoding:this.charset,mimeType:"text/plain"}),this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._bytesKey=0,this._bytesVal=0,++this._fields>=this.fieldsLimit)return this.emit("fieldsLimit"),r();continue e;case 43:this._lastPos<n&&(this._val+=t.latin1Slice(this._lastPos,n)),this._val+=" ",this._lastPos=n+1;break;case 37:if(this._encode===0&&(this._encode=1),this._lastPos<n&&(this._val+=t.latin1Slice(this._lastPos,n)),this._lastPos=n+1,this._byte=-1,n=er(this,t,n+1,o),n===-1)return r(new Error("Malformed urlencoded form"));if(n>=o)return r();++this._bytesVal,n=rr(this,t,n,o);continue}++n,++this._bytesVal,n=rr(this,t,n,o)}this._lastPos<n&&(this._val+=t.latin1Slice(this._lastPos,n))}r()}_final(t){if(this._byte!==-2)return t(new Error("Malformed urlencoded form"));(!this._inKey||this._bytesKey>0||this._bytesVal>0)&&(this._inKey?this._key=this._decoder(this._key,this._encode):this._val=this._decoder(this._val,this._encode),this.emit("field",this._key,this._val,{nameTruncated:this._keyTrunc,valueTruncated:this._valTrunc,encoding:this.charset,mimeType:"text/plain"})),t()}};function er(e,t,i,r){if(i>=r)return r;if(e._byte===-1){let n=ir[t[i++]];if(n===-1)return-1;if(n>=8&&(e._encode=2),i<r){let o=ir[t[i++]];if(o===-1)return-1;e._inKey?e._key+=String.fromCharCode((n<<4)+o):e._val+=String.fromCharCode((n<<4)+o),e._byte=-2,e._lastPos=i}else e._byte=n}else{let n=ir[t[i++]];if(n===-1)return-1;e._inKey?e._key+=String.fromCharCode((e._byte<<4)+n):e._val+=String.fromCharCode((e._byte<<4)+n),e._byte=-2,e._lastPos=i}return i}function tr(e,t,i,r){if(e._bytesKey>e.fieldNameSizeLimit){for(e._keyTrunc||e._lastPos<i&&(e._key+=t.latin1Slice(e._lastPos,i-1)),e._keyTrunc=!0;i<r;++i){let n=t[i];if(n===61||n===38)break;++e._bytesKey}e._lastPos=i}return i}function rr(e,t,i,r){if(e._bytesVal>e.fieldSizeLimit){for(e._valTrunc||e._lastPos<i&&(e._val+=t.latin1Slice(e._lastPos,i-1)),e._valTrunc=!0;i<r&&t[i]!==38;++i)++e._bytesVal;e._lastPos=i}return i}var ir=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];Ro.exports=nr});var or=y((kl,vo)=>{"use strict";var{parseContentType:vu}=mt();function ku(e){let t=e.headers,i=vu(t["content-type"]);if(!i)throw new Error("Malformed content type");for(let r of bu){if(!r.detect(i))continue;let o={limits:e.limits,headers:t,conType:i,highWaterMark:void 0,fileHwm:void 0,defCharset:void 0,defParamCharset:void 0,preservePath:!1};return e.highWaterMark&&(o.highWaterMark=e.highWaterMark),e.fileHwm&&(o.fileHwm=e.fileHwm),o.defCharset=e.defCharset,o.defParamCharset=e.defParamCharset,o.preservePath=e.preservePath,new r(o)}throw new Error(`Unsupported content type: ${t["content-type"]}`)}var bu=[Io(),Ao()].filter(function(e){return typeof e.detect=="function"});vo.exports=e=>{if((typeof e!="object"||e===null)&&(e={}),typeof e.headers!="object"||e.headers===null||typeof e.headers["content-type"]!="string")throw new Error("Missing Content-Type");return ku(e)}});var bo=y((bl,ko)=>{var sr=class{constructor(t=0,i=()=>{}){this.timeout=t,this.callback=i,this.timer=null}clear(){clearTimeout(this.timer)}set(){return this.timeout?(this.clear(),this.timer=setTimeout(this.callback,this.timeout),!0):!1}};ko.exports=sr});var ge=y((Dl,Bo)=>{"use strict";var de=require("fs"),Du=require("path"),{Readable:Pu}=require("stream"),Fu=/[^\w-]/g,Cu=3,Lu=65536,Uu="tmp",dt=0,Mu=(e,t)=>(e||{}).debug?(console.log(`Express-file-upload: ${t}`),!0):!1,Do=(e=Uu)=>(dt=dt>=Lu?1:dt+1,`${e}-${dt}-${Date.now()}`),Po=e=>!!(e&&e.constructor&&e.call&&e.apply),Fo=(e,t)=>Po(t)?t:e,Bu=(e,t)=>{let i=!1;return r=>{if(!i)return i=!0,r?Fo(e,t)(r):e()}},qu=function(){let e={};return[...arguments].forEach(t=>{!t||typeof t!="object"||Object.keys(t).forEach(i=>e[i]=t[i])}),e},Hu=Object.getOwnPropertyNames(Object.prototype),ju=Object.getOwnPropertyNames(Array.prototype),Co=(e,t)=>{let i=e instanceof Array&&ju.includes(t),r=Hu.includes(t);return!i&&!r},Gu=(e,t,i)=>i==null||(e=e||Object.create(null),!Co(e,t))?e:e[t]?(e[t]instanceof Array?e[t].push(i):e[t]=[e[t],i],e):(e[t]=i,e),Yu=(e,t)=>{if(!e||!e.createParentPath||!t)return!1;let i=Du.dirname(t);return de.existsSync(i)||de.mkdirSync(i,{recursive:!0}),de.existsSync(i)},Lo=(e,t)=>de.unlink(e,t),Uo=(e,t,i)=>{let r=!1,n=a=>{r||(r=!0,i(a))},o=de.createReadStream(e);o.on("error",n);let s=de.createWriteStream(t);s.on("error",a=>{o.destroy(),n(a)}),s.on("close",()=>n()),o.pipe(s)},$u=(e,t,i)=>de.rename(e,t,r=>r?Uo(e,t,n=>n?i(n):Lo(e,i)):i()),Vu=(e,t,i)=>{if(!Buffer.isBuffer(e))return i(new Error("buffer variable should be type of Buffer!"));let r=e,n=Pu();n._read=()=>{n.push(r),r=null};let o=de.createWriteStream(t);o.on("error",s=>{i(s)}),o.on("close",()=>{i()}),n.pipe(o)},Mo=(e,t)=>e.uriDecodeFileNames?decodeURIComponent(t):t,Wu=(e,t)=>{let i=parseInt(e),r={name:t,extension:""};if(!e&&i!==0)return r;let n=isNaN(i)?Cu:Math.abs(i),o=t.split(".");if(o.length<2)return r;let s=o.pop();return s.length>n&&n>0&&(o[o.length-1]+="."+s.substr(0,s.length-n),s=s.substr(-n)),r.extension=n?s:"",r.name=o.join("."),r},zu=(e,t)=>{if(!t||typeof t!="string")return Do();let i=t.length<=255?t:t.substr(0,255);if(i=Mo(e,i),!e.safeFileNames)return i;let r=typeof e.safeFileNames=="object"&&e.safeFileNames instanceof RegExp?e.safeFileNames:Fu,{name:n,extension:o}=Wu(e.preserveExtension,i);return o.length&&(o="."+o.replace(r,"")),n.replace(r,"").concat(o)};Bo.exports={isFunc:Po,debugLog:Mu,copyFile:Uo,moveFile:$u,errorFunc:Fo,deleteFile:Lo,buildFields:Gu,buildOptions:qu,parseFileName:zu,getTempFilename:Do,promiseCallback:Bu,checkAndMakeDir:Yu,saveBufferToFile:Vu,uriDecodeFileName:Mo,isSafeFromPollution:Co}});var Go=y((Pl,jo)=>{"use strict";var{isFunc:Qu,debugLog:qo,moveFile:Ku,promiseCallback:Ho,checkAndMakeDir:Ju,saveBufferToFile:Xu}=ge(),Zu=(e,t,i)=>(r,n)=>{qo(i,`Moving temporary file ${t.tempFilePath} to ${e}`),Ku(t.tempFilePath,e,Ho(r,n))},ef=(e,t,i)=>(r,n)=>{qo(i,`Moving uploaded buffer to ${e}`),Xu(t.buffer,e,Ho(r,n))};jo.exports=(e,t={})=>({name:e.name,data:e.buffer,size:e.size,encoding:e.encoding,tempFilePath:e.tempFilePath,truncated:e.truncated,mimetype:e.mimetype,md5:e.hash,mv:(i,r)=>{let n=t.useTempFiles?Zu(i,e,t):ef(i,e,t);return Ju(t,i),Qu(r)?n(r):new Promise(n)}})});var $o=y((Fl,Yo)=>{var tf=require("crypto"),{debugLog:ar}=ge();Yo.exports=(e,t,i)=>{let r=[],n=tf.createHash("md5"),o=0,s=!1,a=()=>Buffer.concat(r,o);return{dataHandler:c=>{if(s===!0){ar(e,`Error: got ${t}->${i} data chunk for completed upload!`);return}r.push(c),n.update(c),o+=c.length,ar(e,`Uploading ${t}->${i}, bytes:${o}...`)},getBuffer:a,getFilePath:()=>"",getFileSize:()=>o,getHash:()=>n.digest("hex"),complete:()=>(ar(e,`Upload ${t}->${i} completed, bytes:${o}.`),s=!0,a()),cleanup:()=>{s=!0},getWritePromise:()=>Promise.resolve()}}});var zo=y((Cl,Wo)=>{var rf=require("fs"),Vo=require("path"),nf=require("crypto"),{debugLog:ne,checkAndMakeDir:of,getTempFilename:sf,deleteFile:af}=ge();Wo.exports=(e,t,i)=>{let r=Vo.normalize(e.tempFileDir),n=Vo.join(r,sf());of({createParentPath:!0},n),ne(e,`Temporary file path is ${n}`);let o=nf.createHash("md5"),s=0,a=!1;ne(e,`Opening write stream for ${t}->${i}...`);let c=rf.createWriteStream(n),h=new Promise((f,l)=>{c.on("finish",()=>f()),c.on("error",E=>{ne(e,`Error write temp file: ${E}`),l(E)})});return{dataHandler:f=>{if(a===!0){ne(e,`Error: got ${t}->${i} data chunk for completed upload!`);return}c.write(f),o.update(f),s+=f.length,ne(e,`Uploading ${t}->${i}, bytes:${s}...`)},getFilePath:()=>n,getFileSize:()=>s,getHash:()=>o.digest("hex"),complete:()=>(a=!0,ne(e,`Upload ${t}->${i} completed, bytes:${s}.`),c!==!1&&c.end(),Buffer.concat([])),cleanup:()=>{a=!0,ne(e,`Cleaning up temporary file ${n}...`),c.end(),af(n,f=>f?ne(e,`Cleaning up temporary file ${n} failed: ${f}`):ne(e,`Cleaning up temporary file ${n} done.`))},getWritePromise:()=>h}}});var Ko=y((Ll,Qo)=>{var{isSafeFromPollution:cf}=ge();Qo.exports=function(e){if(!e||e.length<1)return Object.create(null);let t=Object.create(null),i=Object.keys(e);for(let r=0;r<i.length;r++){let n=i[r],o=e[n],s=t,a=n.replace(new RegExp(/\[/g),".").replace(new RegExp(/\]/g),"").split(".");for(let c=0;c<a.length;c++){let h=a[c];!cf(s,h)||(c>=a.length-1?s[h]=o:(s[h]||(s[h]=isNaN(a[c+1])?Object.create(null):[]),s=s[h]))}}return t}});var ts=y((Ul,es)=>{var uf=or(),ff=bo(),lf=Go(),hf=$o(),mf=zo(),Jo=Ko(),{isFunc:Xo,debugLog:oe,buildFields:Zo,buildOptions:pf,parseFileName:df}=ge(),be=Symbol("wait flush property symbol");es.exports=(e,t,i,r)=>{t.files=null;let n=pf(e,{headers:t.headers}),o=uf(n),s=(a,c)=>{t.unpipe(o),i.writeHead(a||400,{Connection:"close"}),i.end(c||"Bad Request")};t.body instanceof Buffer&&(t.body=Object.create(null)),o.on("field",(a,c)=>t.body=Zo(t.body,a,c)),o.on("file",(a,c,h)=>{let{filename:f,encoding:l,mimeType:E}=h,p=df(e,f),{dataHandler:m,getFilePath:d,getFileSize:x,getHash:T,complete:O,cleanup:N,getWritePromise:B}=e.useTempFiles?mf(e,a,p):hf(e,a,p),X=e.useTempFiles?B().catch(F=>{t.unpipe(o),t.resume(),N(),r(F)}):B(),L=new ff(e.uploadTimeout,()=>{c.removeAllListeners("data"),c.resume(),c.destroy(new Error(`Upload timeout ${a}->${p}, bytes:${x()}`))});c.on("limit",()=>{if(oe(e,`Size limit reached for ${a}->${p}, bytes:${x()}`),L.clear(),Xo(e.limitHandler))return e.limitHandler(t,i,r);e.abortOnLimit&&(oe(e,`Aborting upload because of size limit ${a}->${p}.`),Xo(e.limitHandler)||s(413,e.responseOnLimit),N())}),c.on("data",F=>{L.set(),m(F)}),c.on("end",()=>{let F=x();if(oe(e,`Upload finished ${a}->${p}, bytes:${F}`),L.clear(),!f&&F===0)return e.useTempFiles&&(N(),oe(e,`Removing the empty file ${a}->${p}`)),oe(e,"Don't add file instance if original name and size are empty");t.files=Zo(t.files,a,lf({buffer:O(),name:p,tempFilePath:d(),hash:T(),size:F,encoding:l,truncated:c.truncated,mimetype:E},e)),t[be]||(t[be]=[]),t[be].push(X)}),c.on("error",F=>{L.clear(),oe(e,F),N(),r()}),oe(e,`New upload started ${a}->${p}, bytes:${x()}`),L.set()}),o.on("finish",()=>{if(oe(e,"Busboy finished parsing request."),e.parseNested&&(t.body=Jo(t.body),t.files=Jo(t.files)),!t[be])return r();Promise.all(t[be]).then(()=>{delete t[be],r()})}),o.on("error",a=>{oe(e,"Busboy error"),r(a)}),t.pipe(o)}});var is=y((Ml,rs)=>{var Ef=/^(multipart\/.+);(.*)$/i,xf=["GET","HEAD"],yf=e=>"transfer-encoding"in e.headers||"content-length"in e.headers&&e.headers["content-length"]!=="0",Tf=e=>!xf.includes(e.method),_f=e=>Ef.test(e.headers["content-type"]);rs.exports=e=>yf(e)&&Tf(e)&&_f(e)});var os=y((ql,ns)=>{"use strict";var gf=require("path"),Of=ts(),Sf=is(),{buildOptions:Nf,debugLog:wf}=ge(),Bl=or(),If={debug:!1,uploadTimeout:6e4,fileHandler:!1,uriDecodeFileNames:!1,safeFileNames:!1,preserveExtension:!1,abortOnLimit:!1,responseOnLimit:"File size limit has been reached",limitHandler:!1,createParentPath:!1,parseNested:!1,useTempFiles:!1,tempFileDir:gf.join(process.cwd(),"tmp")};ns.exports=e=>{let t=Nf(If,e);return(i,r,n)=>{if(!Sf(i))return wf(t,"Request is not eligible for file upload!"),n();Of(t,i,r,n)}}});var hs=y((zl,ls)=>{"use strict";var fs=Object.getOwnPropertySymbols,Rf=Object.prototype.hasOwnProperty,Af=Object.prototype.propertyIsEnumerable;function vf(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function kf(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;var r=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(r.join("")!=="0123456789")return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(o){n[o]=o}),Object.keys(Object.assign({},n)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}ls.exports=kf()?Object.assign:function(e,t){for(var i,r=vf(e),n,o=1;o<arguments.length;o++){i=Object(arguments[o]);for(var s in i)Rf.call(i,s)&&(r[s]=i[s]);if(fs){n=fs(i);for(var a=0;a<n.length;a++)Af.call(i,n[a])&&(r[n[a]]=i[n[a]])}}return r}});var ds=y((Ql,cr)=>{"use strict";cr.exports=Df;cr.exports.append=ps;var bf=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/;function ps(e,t){if(typeof e!="string")throw new TypeError("header argument is required");if(!t)throw new TypeError("field argument is required");for(var i=Array.isArray(t)?t:ms(String(t)),r=0;r<i.length;r++)if(!bf.test(i[r]))throw new TypeError("field argument contains an invalid header name");if(e==="*")return e;var n=e,o=ms(e.toLowerCase());if(i.indexOf("*")!==-1||o.indexOf("*")!==-1)return"*";for(var s=0;s<i.length;s++){var a=i[s].toLowerCase();o.indexOf(a)===-1&&(o.push(a),n=n?n+", "+i[s]:i[s])}return n}function ms(e){for(var t=0,i=[],r=0,n=0,o=e.length;n<o;n++)switch(e.charCodeAt(n)){case 32:r===t&&(r=t=n+1);break;case 44:i.push(e.substring(r,t)),r=t=n+1;break;default:t=n+1;break}return i.push(e.substring(r,t)),i}function Df(e,t){if(!e||!e.getHeader||!e.setHeader)throw new TypeError("res argument is required");var i=e.getHeader("Vary")||"",r=Array.isArray(i)?i.join(", "):String(i);(i=ps(r,t))&&e.setHeader("Vary",i)}});var xs=y((Kl,Es)=>{(function(){"use strict";var e=hs(),t=ds(),i={origin:"*",methods:"GET,HEAD,PUT,PATCH,POST,DELETE",preflightContinue:!1,optionsSuccessStatus:204};function r(m){return typeof m=="string"||m instanceof String}function n(m,d){if(Array.isArray(d)){for(var x=0;x<d.length;++x)if(n(m,d[x]))return!0;return!1}else return r(d)?m===d:d instanceof RegExp?d.test(m):!!d}function o(m,d){var x=d.headers.origin,T=[],O;return!m.origin||m.origin==="*"?T.push([{key:"Access-Control-Allow-Origin",value:"*"}]):r(m.origin)?(T.push([{key:"Access-Control-Allow-Origin",value:m.origin}]),T.push([{key:"Vary",value:"Origin"}])):(O=n(x,m.origin),T.push([{key:"Access-Control-Allow-Origin",value:O?x:!1}]),T.push([{key:"Vary",value:"Origin"}])),T}function s(m){var d=m.methods;return d.join&&(d=m.methods.join(",")),{key:"Access-Control-Allow-Methods",value:d}}function a(m){return m.credentials===!0?{key:"Access-Control-Allow-Credentials",value:"true"}:null}function c(m,d){var x=m.allowedHeaders||m.headers,T=[];return x?x.join&&(x=x.join(",")):(x=d.headers["access-control-request-headers"],T.push([{key:"Vary",value:"Access-Control-Request-Headers"}])),x&&x.length&&T.push([{key:"Access-Control-Allow-Headers",value:x}]),T}function h(m){var d=m.exposedHeaders;if(d)d.join&&(d=d.join(","));else return null;return d&&d.length?{key:"Access-Control-Expose-Headers",value:d}:null}function f(m){var d=(typeof m.maxAge=="number"||m.maxAge)&&m.maxAge.toString();return d&&d.length?{key:"Access-Control-Max-Age",value:d}:null}function l(m,d){for(var x=0,T=m.length;x<T;x++){var O=m[x];O&&(Array.isArray(O)?l(O,d):O.key==="Vary"&&O.value?t(d,O.value):O.value&&d.setHeader(O.key,O.value))}}function E(m,d,x,T){var O=[],N=d.method&&d.method.toUpperCase&&d.method.toUpperCase();N==="OPTIONS"?(O.push(o(m,d)),O.push(a(m,d)),O.push(s(m,d)),O.push(c(m,d)),O.push(f(m,d)),O.push(h(m,d)),l(O,x),m.preflightContinue?T():(x.statusCode=m.optionsSuccessStatus,x.setHeader("Content-Length","0"),x.end())):(O.push(o(m,d)),O.push(a(m,d)),O.push(h(m,d)),l(O,x),T())}function p(m){var d=null;return typeof m=="function"?d=m:d=function(x,T){T(null,m)},function(T,O,N){d(T,function(B,X){if(B)N(B);else{var L=e({},i,X),F=null;L.origin&&typeof L.origin=="function"?F=L.origin:L.origin&&(F=function(J,g){g(null,L.origin)}),F?F(T.headers.origin,function(J,g){J||!g?N(J):(L.origin=g,E(L,T,O,N))}):N()}})}}Es.exports=p})()});var _s=Y(lr());var zt=Y(mr());var yt=Y(require("fs"),1),Uf=yt.default.existsSync,Mf=yt.default.createReadStream;var As="End-Of-Stream",M=class extends Error{constructor(){super(As)}};var Yf=1*1024*1024;var Tt=require("buffer"),Oe=class{constructor(t){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=t||{}}async readToken(t,i=this.position){let r=Tt.Buffer.alloc(t.len);if(await this.readBuffer(r,{position:i})<t.len)throw new M;return t.get(r,0)}async peekToken(t,i=this.position){let r=Tt.Buffer.alloc(t.len);if(await this.peekBuffer(r,{position:i})<t.len)throw new M;return t.get(r,0)}async readNumber(t){if(await this.readBuffer(this.numBuffer,{length:t.len})<t.len)throw new M;return t.get(this.numBuffer,0)}async peekNumber(t){if(await this.peekBuffer(this.numBuffer,{length:t.len})<t.len)throw new M;return t.get(this.numBuffer,0)}async ignore(t){if(this.fileInfo.size!==void 0){let i=this.fileInfo.size-this.position;if(t>i)return this.position+=i,i}return this.position+=t,t}async close(){}normalizeOptions(t,i){if(i&&i.position!==void 0&&i.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return i?{mayBeLess:i.mayBeLess===!0,offset:i.offset?i.offset:0,length:i.length?i.length:t.length-(i.offset?i.offset:0),position:i.position?i.position:this.position}:{mayBeLess:!1,offset:0,length:t.length,position:this.position}}};var Ve=class extends Oe{constructor(t,i){super(i),this.uint8Array=t,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:t.length}async readBuffer(t,i){if(i&&i.position){if(i.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=i.position}let r=await this.peekBuffer(t,i);return this.position+=r,r}async peekBuffer(t,i){let r=this.normalizeOptions(t,i),n=Math.min(this.uint8Array.length-r.position,r.length);if(!r.mayBeLess&&n<r.length)throw new M;return t.set(this.uint8Array.subarray(r.position,r.position+n),r.offset),n}async close(){}};function _t(e,t){return new Ve(e,t)}var ae=require("buffer");var xr=Y(Er(),1),yr=require("buffer");function W(e){return new DataView(e.buffer,e.byteOffset)}var Tr={len:1,get(e,t){return W(e).getUint8(t)},put(e,t,i){return W(e).setUint8(t,i),t+1}},We={len:2,get(e,t){return W(e).getUint16(t,!0)},put(e,t,i){return W(e).setUint16(t,i,!0),t+2}},ze={len:2,get(e,t){return W(e).getUint16(t)},put(e,t,i){return W(e).setUint16(t,i),t+2}};var _r={len:4,get(e,t){return W(e).getUint32(t,!0)},put(e,t,i){return W(e).setUint32(t,i,!0),t+4}},gr={len:4,get(e,t){return W(e).getUint32(t)},put(e,t,i){return W(e).setUint32(t,i),t+4}};var Or={len:4,get(e,t){return W(e).getInt32(t)},put(e,t,i){return W(e).setInt32(t,i),t+4}};var Sr={len:8,get(e,t){return W(e).getBigUint64(t,!0)},put(e,t,i){return W(e).setBigUint64(t,i,!0),t+8}};var ie=class{constructor(t,i){this.len=t,this.encoding=i}get(t,i){return yr.Buffer.from(t).toString(this.encoding,i,i+this.len)}},re=class{constructor(t){this.len=t}static decode(t,i,r){let n="";for(let o=i;o<r;++o)n+=re.codePointToString(re.singleByteDecoder(t[o]));return n}static inRange(t,i,r){return i<=t&&t<=r}static codePointToString(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}static singleByteDecoder(t){if(re.inRange(t,0,127))return t;let i=re.windows1252[t-128];if(i===null)throw Error("invaliding encoding");return i}get(t,i=0){return re.decode(t,i,i+this.len)}};re.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255];function Nr(e){return[...e].map(t=>t.charCodeAt(0))}function wr(e,t=0){let i=Number.parseInt(e.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(Number.isNaN(i))return!1;let r=8*32;for(let n=t;n<t+148;n++)r+=e[n];for(let n=t+156;n<t+512;n++)r+=e[n];return i===r}var Ir={get:(e,t)=>e[t+3]&127|e[t+2]<<7|e[t+1]<<14|e[t]<<21,len:4};var Rr=["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","elf","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],Ar=["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-elf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"];var Cs=4100;async function vr(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof e}\``);let t=e instanceof Uint8Array?e:new Uint8Array(e);if(!!(t&&t.length>1))return St(_t(t))}function te(e,t,i){i={offset:0,...i};for(let[r,n]of t.entries())if(i.mask){if(n!==(i.mask[r]&e[r+i.offset]))return!1}else if(n!==e[r+i.offset])return!1;return!0}async function St(e){try{return new Ot().parse(e)}catch(t){if(!(t instanceof M))throw t}}var Ot=class{check(t,i){return te(this.buffer,t,i)}checkString(t,i){return this.check(Nr(t),i)}async parse(t){if(this.buffer=ae.Buffer.alloc(Cs),t.fileInfo.size===void 0&&(t.fileInfo.size=Number.MAX_SAFE_INTEGER),this.tokenizer=t,await t.peekBuffer(this.buffer,{length:12,mayBeLess:!0}),this.check([66,77]))return{ext:"bmp",mime:"image/bmp"};if(this.check([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(this.check([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(this.check([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(this.check([37,33]))return await t.peekBuffer(this.buffer,{length:24,mayBeLess:!0}),this.checkString("PS-Adobe-",{offset:2})&&this.checkString(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(this.check([31,160])||this.check([31,157]))return{ext:"Z",mime:"application/x-compress"};if(this.check([239,187,191]))return this.tokenizer.ignore(3),this.parse(t);if(this.check([71,73,70]))return{ext:"gif",mime:"image/gif"};if(this.check([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(this.check([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(this.check([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(this.check([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(this.checkString("ID3")){await t.ignore(6);let i=await t.readToken(Ir);return t.position+i>t.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await t.ignore(i),St(t))}if(this.checkString("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((this.buffer[0]===67||this.buffer[0]===70)&&this.check([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(this.checkString("FLIF"))return{ext:"flif",mime:"image/flif"};if(this.checkString("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(this.checkString("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(this.checkString("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(this.checkString("FORM"))return{ext:"aif",mime:"audio/aiff"};if(this.checkString("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(this.check([80,75,3,4])){try{for(;t.position+30<t.fileInfo.size;){await t.readBuffer(this.buffer,{length:30});let i={compressedSize:this.buffer.readUInt32LE(18),uncompressedSize:this.buffer.readUInt32LE(22),filenameLength:this.buffer.readUInt16LE(26),extraFieldLength:this.buffer.readUInt16LE(28)};if(i.filename=await t.readToken(new ie(i.filenameLength,"utf-8")),await t.ignore(i.extraFieldLength),i.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(i.filename.endsWith(".rels")||i.filename.endsWith(".xml"))switch(i.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};default:break}if(i.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(i.filename.startsWith("3D/")&&i.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(i.filename==="mimetype"&&i.compressedSize===i.uncompressedSize)switch((await t.readToken(new ie(i.compressedSize,"utf-8"))).trim()){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};default:}if(i.compressedSize===0){let r=-1;for(;r<0&&t.position<t.fileInfo.size;)await t.peekBuffer(this.buffer,{mayBeLess:!0}),r=this.buffer.indexOf("504B0304",0,"hex"),await t.ignore(r>=0?r:this.buffer.length)}else await t.ignore(i.compressedSize)}}catch(i){if(!(i instanceof M))throw i}return{ext:"zip",mime:"application/zip"}}if(this.checkString("OggS")){await t.ignore(28);let i=ae.Buffer.alloc(8);return await t.readBuffer(i),te(i,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:te(i,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:te(i,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:te(i,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:te(i,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:te(i,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(this.check([80,75])&&(this.buffer[2]===3||this.buffer[2]===5||this.buffer[2]===7)&&(this.buffer[3]===4||this.buffer[3]===6||this.buffer[3]===8))return{ext:"zip",mime:"application/zip"};if(this.checkString("ftyp",{offset:4})&&(this.buffer[8]&96)!==0){let i=this.buffer.toString("binary",8,12).replace("\0"," ").trim();switch(i){case"avif":case"avis":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return i.startsWith("3g")?i.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(this.checkString("MThd"))return{ext:"mid",mime:"audio/midi"};if(this.checkString("wOFF")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(this.checkString("wOF2")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(this.check([212,195,178,161])||this.check([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(this.checkString("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(this.checkString("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(this.checkString("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(this.check([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(this.checkString("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(this.checkString("%PDF")){await t.ignore(1350);let i=10*1024*1024,r=ae.Buffer.alloc(Math.min(i,t.fileInfo.size));return await t.readBuffer(r,{mayBeLess:!0}),r.includes(ae.Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(this.check([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(this.check([73,73])){let i=await this.readTiffHeader(!1);if(i)return i}if(this.check([77,77])){let i=await this.readTiffHeader(!0);if(i)return i}if(this.checkString("MAC "))return{ext:"ape",mime:"audio/ape"};if(this.check([26,69,223,163])){async function i(){let a=await t.peekNumber(Tr),c=128,h=0;for(;(a&c)===0&&c!==0;)++h,c>>=1;let f=ae.Buffer.alloc(h+1);return await t.readBuffer(f),f}async function r(){let a=await i(),c=await i();c[0]^=128>>c.length-1;let h=Math.min(6,c.length);return{id:a.readUIntBE(0,a.length),len:c.readUIntBE(c.length-h,h)}}async function n(a){for(;a>0;){let c=await r();if(c.id===17026)return(await t.readToken(new ie(c.len,"utf-8"))).replace(/\00.*$/g,"");await t.ignore(c.len),--a}}let o=await r();switch(await n(o.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(this.check([82,73,70,70])){if(this.check([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(this.check([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(this.check([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(this.checkString("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(this.check([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(this.checkString("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(this.checkString("MSCF")||this.checkString("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(this.check([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(this.check([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(this.check([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(this.check([127,69,76,70]))return{ext:"elf",mime:"application/x-elf"};if(this.check([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(this.checkString("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(this.checkString("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(this.check([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(this.checkString("IMPM"))return{ext:"it",mime:"audio/x-it"};if(this.checkString("-lh0-",{offset:2})||this.checkString("-lh1-",{offset:2})||this.checkString("-lh2-",{offset:2})||this.checkString("-lh3-",{offset:2})||this.checkString("-lh4-",{offset:2})||this.checkString("-lh5-",{offset:2})||this.checkString("-lh6-",{offset:2})||this.checkString("-lh7-",{offset:2})||this.checkString("-lzs-",{offset:2})||this.checkString("-lz4-",{offset:2})||this.checkString("-lz5-",{offset:2})||this.checkString("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(this.check([0,0,1,186])){if(this.check([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(this.check([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(this.checkString("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(this.check([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(this.checkString("<?xml "))return{ext:"xml",mime:"application/xml"};if(this.check([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(this.check([82,97,114,33,26,7])&&(this.buffer[6]===0||this.buffer[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(this.checkString("solid "))return{ext:"stl",mime:"model/stl"};if(this.checkString("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(this.checkString("!<arch>"))return await t.ignore(8),await t.readToken(new ie(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(this.check([137,80,78,71,13,10,26,10])){await t.ignore(8);async function i(){return{length:await t.readToken(Or),type:await t.readToken(new ie(4,"binary"))}}do{let r=await i();if(r.length<0)return;switch(r.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await t.ignore(r.length+4)}}while(t.position+8<t.fileInfo.size);return{ext:"png",mime:"image/png"}}if(this.check([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(this.check([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(this.check([102,114,101,101],{offset:4})||this.check([109,100,97,116],{offset:4})||this.check([109,111,111,118],{offset:4})||this.check([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(this.check([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(this.checkString("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(this.check([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(this.check([48,38,178,117,142,102,207,17,166,217])){async function i(){let r=ae.Buffer.alloc(16);return await t.readBuffer(r),{id:r,size:Number(await t.readToken(Sr))}}for(await t.ignore(30);t.position+24<t.fileInfo.size;){let r=await i(),n=r.size-24;if(te(r.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){let o=ae.Buffer.alloc(16);if(n-=await t.readBuffer(o),te(o,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(te(o,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await t.ignore(n)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(this.check([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((this.check([126,16,4])||this.check([126,24,4]))&&this.check([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(this.check([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(this.check([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await t.ignore(20),await t.readToken(new ie(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(this.check([255,10])||this.check([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(this.check([254,255]))return this.check([0,60,0,63,0,120,0,109,0,108],{offset:2})?{ext:"xml",mime:"application/xml"}:void 0;if(this.check([0,0,1,186])||this.check([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(this.check([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(this.check([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(this.check([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(this.check([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await t.peekBuffer(this.buffer,{length:Math.min(256,t.fileInfo.size),mayBeLess:!0}),this.checkString("BEGIN:")){if(this.checkString("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(this.checkString("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(this.checkString("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(this.checkString("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(this.checkString("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(this.check([4,0,0,0])&&this.buffer.length>=16){let i=this.buffer.readUInt32LE(12);if(i>12&&this.buffer.length>=i+16)try{let r=this.buffer.slice(16,i+16).toString();if(JSON.parse(r).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(this.check([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(this.checkString("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(this.check([71])&&this.check([71],{offset:188}))return{ext:"mts",mime:"video/mp2t"};if(this.check([71],{offset:4})&&this.check([71],{offset:196}))return{ext:"mts",mime:"video/mp2t"};if(this.check([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(this.check([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(this.check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(this.check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(this.check([76,80],{offset:34})&&(this.check([0,0,1],{offset:8})||this.check([1,0,2],{offset:8})||this.check([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(this.check([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await t.peekBuffer(this.buffer,{length:Math.min(512,t.fileInfo.size),mayBeLess:!0}),wr(this.buffer))return{ext:"tar",mime:"application/x-tar"};if(this.check([255,254]))return this.check([60,0,63,0,120,0,109,0,108,0],{offset:2})?{ext:"xml",mime:"application/xml"}:this.check([255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0],{offset:2})?{ext:"skp",mime:"application/vnd.sketchup.skp"}:void 0;if(this.checkString("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(this.buffer.length>=2&&this.check([255,224],{offset:0,mask:[255,224]})){if(this.check([16],{offset:1,mask:[22]}))return this.check([8],{offset:1,mask:[8]})?{ext:"aac",mime:"audio/aac"}:{ext:"aac",mime:"audio/aac"};if(this.check([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(this.check([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(this.check([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}async readTiffTag(t){let i=await this.tokenizer.readToken(t?ze:We);switch(this.tokenizer.ignore(10),i){case 50341:return{ext:"arw",mime:"image/x-sony-arw"};case 50706:return{ext:"dng",mime:"image/x-adobe-dng"};default:}}async readTiffIFD(t){let i=await this.tokenizer.readToken(t?ze:We);for(let r=0;r<i;++r){let n=await this.readTiffTag(t);if(n)return n}}async readTiffHeader(t){let i=(t?ze:We).get(this.buffer,2),r=(t?gr:_r).get(this.buffer,4);if(i===42){if(r>=6){if(this.checkString("CR",{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(r>=8&&(this.check([28,0,254,0],{offset:8})||this.check([31,0,11,0],{offset:8})))return{ext:"nef",mime:"image/x-nikon-nef"}}await this.tokenizer.ignore(r);let n=await this.readTiffIFD(!1);return n||{ext:"tif",mime:"image/tiff"}}if(i===43)return{ext:"tif",mime:"image/tiff"}}};var g0=new Set(Rr),O0=new Set(Ar);var to=Y(qt()),ro=Y(Yt());var $t=require("crypto");var $n="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var tu=128,Te,Ae,ru=e=>{!Te||Te.length<e?(Te=Buffer.allocUnsafe(e*tu),(0,$t.randomFillSync)(Te),Ae=0):Ae+e>Te.length&&((0,$t.randomFillSync)(Te),Ae=0),Ae+=e};var Vn=(e=21)=>{ru(e-=0);let t="";for(let i=Ae-e;i<Ae;i++)t+=$n[Te[i]&63];return t};var io=Y(require("path"));var Wt=Y(require("http"),1),eo=Y(Jn(),1);var Xn=Y(require("querystring"),1);function Zn(e){let t=e.url;if(t==null)return;let i=e._parsedUrl;if(i&&i.raw===t)return i;let r=t,n="",o;if(t.length>1){let s=t.indexOf("?",1);s!==-1&&(n=t.substring(s),r=t.substring(0,s),n.length>1&&(o=Xn.parse(n.substring(1))))}return e._parsedUrl={pathname:r,search:n,query:o,raw:t}}function iu(e,t,i){let r=typeof e.status=="number"&&e.status;r=i.statusCode=r&&r>=100?r:500,typeof e=="string"||Buffer.isBuffer(e)?i.end(e):i.end(e.message||Wt.default.STATUS_CODES[r])}var Vt=e=>e instanceof ve?e.attach:e,ve=class extends eo.default{constructor(t={}){super(),this.parse=Zn,this.server=t.server,this.handler=this.handler.bind(this),this.onError=t.onError||iu,this.onNoMatch=t.onNoMatch||this.onError.bind(null,{status:404}),this.attach=(i,r)=>setImmediate(this.handler,i,r)}use(t,...i){return t==="/"?super.use(t,i.map(Vt)):typeof t=="function"||t instanceof ve?super.use("/",[t,...i].map(Vt)):super.use(t,(r,n,o)=>{if(typeof t=="string"){let s=t.length;t.startsWith("/")||s++,r.url=r.url.substring(s)||"/",r.path=r.path.substring(s)||"/"}else r.url=r.url.replace(t,"")||"/",r.path=r.path.replace(t,"")||"/";r.url.charAt(0)!=="/"&&(r.url="/"+r.url),o()},i.map(Vt),(r,n,o)=>{r.path=r._parsedUrl.pathname,r.url=r.path+r._parsedUrl.search,o()}),this}listen(){return(this.server=this.server||Wt.default.createServer()).on("request",this.attach),this.server.listen.apply(this.server,arguments),this}handler(t,i,r){let n=this.parse(t),o=n.pathname,s=this.find(t.method,t.path=o);if(t.url=o+n.search,t.originalUrl=t.originalUrl||t.url,t.query=n.query||{},t.search=n.search,t.params=s.params,o.length>1&&o.indexOf("%",1)!==-1)for(let l in t.params)try{t.params[l]=decodeURIComponent(t.params[l])}catch{}let a=0,c=s.handlers.concat(this.onNoMatch),h=c.length,f=async()=>i.finished||a<h&&c[a++](t,i,r);(r=r||(l=>l?this.onError(l,t,i,r):f().catch(r)))()}};function lt(e){return new ve(e)}var Qt=(e,t,i,r)=>{console.log(e),i.statusCode=ro.StatusCodes.INTERNAL_SERVER_ERROR,i.setHeader("content-type","application/json").end((0,zt.default)({success:!1,msg:"Something went wrong on the server.",data:{}}))},no=(e,t,i)=>{t.json=r=>{t.setHeader("content-type","application/json"),t.end((0,zt.default)(r))},i()},oo=async e=>{let t=await to.default.promises.readFile(io.default.resolve(__dirname,`uploads/${e}`)),i=await vr(t);return{stream:t,type:i.mime}},so=e=>Vn(e),ht=()=>lt({onError:Qt});var us=Y(os()),Ye=Y(Yt());var ss=Y(require("path")),as=1024*1024*2,cs=ss.default.resolve(__dirname+"/uploads/");var Et=ht();Et.get("/:id",async(e,t)=>{try{let{stream:i,type:r}=await oo(e.params.id);t.setHeader("content-type",r),t.end(i)}catch{return t.statusCode=Ye.StatusCodes.NOT_FOUND,t.json({success:!1,msg:"The request file could not be found on the server.",data:{}})}});Et.use((0,us.default)()).post("/",async(e,t)=>{let i=so(6);if(e.files.img){if(e.files.img.size>as)return t.statusCode=Ye.StatusCodes.NOT_ACCEPTABLE,t.json({success:!1,msg:"The upload file size limit has been reached.",data:{}});e.files.img.mv(cs+"/"+i,r=>r?(t.statusCode=Ye.StatusCodes.INTERNAL_SERVER_ERROR,t.json({success:!1,msg:"File uploading error on the server",data:{}})):t.json({success:!0,msg:"The file was uploaded successfully to the server.",data:i}))}else return t.statusCode=Ye.StatusCodes.NOT_ACCEPTABLE,t.json({success:!1,msg:"Please send the file",data:{}})});var xt=ht();xt.get("/",(e,t)=>{t.json({success:!0,msg:"The API is working successfully.",data:{}})});xt.use("/upload",Et);var gs=Y(xs());var ys=Y(qt()),Pf=async()=>{await ys.default.ensureDir("uploads")};Pf();var $e=lt({onError:Qt}),Ts=parseInt(process.env.PORT||8080);$e.use((0,_s.json)());$e.use((0,gs.default)());$e.use(no);$e.use("/api",xt);$e.listen(Ts,()=>console.log(`Running on ${Ts}`));
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!
 * vary
 * Copyright(c) 2014-2017 Douglas Christopher Wilson
 * MIT Licensed
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
